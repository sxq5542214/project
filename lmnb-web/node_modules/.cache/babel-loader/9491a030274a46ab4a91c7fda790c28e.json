{"remainingRequest":"G:\\git\\project\\.git\\lm\\node_modules\\thread-loader\\dist\\cjs.js!G:\\git\\project\\.git\\lm\\node_modules\\babel-loader\\lib\\index.js!G:\\git\\project\\.git\\lm\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\git\\project\\.git\\lm\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\git\\project\\.git\\lm\\src\\components\\ImageCropper\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\git\\project\\.git\\lm\\src\\components\\ImageCropper\\index.vue","mtime":1686317623525},{"path":"G:\\git\\project\\.git\\lm\\babel.config.js","mtime":1686317623477},{"path":"G:\\git\\project\\.git\\lm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686317881343},{"path":"G:\\git\\project\\.git\\lm\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1686317881214},{"path":"G:\\git\\project\\.git\\lm\\node_modules\\babel-loader\\lib\\index.js","mtime":1686317882159},{"path":"G:\\git\\project\\.git\\lm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686317881343},{"path":"G:\\git\\project\\.git\\lm\\node_modules\\vue-loader\\lib\\index.js","mtime":1686317877157}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCid1c2Ugc3RyaWN0JzsKCmltcG9ydCBfdHlwZW9mIGZyb20gIkc6L2dpdC9wcm9qZWN0Ly5naXQvbG0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWxzL3JlcXVlc3QnOwppbXBvcnQgbGFuZ3VhZ2UgZnJvbSAnLi91dGlscy9sYW5ndWFnZS5qcyc7CmltcG9ydCBtaW1lcyBmcm9tICcuL3V0aWxzL21pbWVzLmpzJzsKaW1wb3J0IGRhdGEyYmxvYiBmcm9tICcuL3V0aWxzL2RhdGEyYmxvYi5qcyc7CmltcG9ydCBlZmZlY3RSaXBwbGUgZnJvbSAnLi91dGlscy9lZmZlY3RSaXBwbGUuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIC8vIOWfn++8jOS4iuS8oOaWh+S7tm5hbWXvvIzop6blj5Hkuovku7bkvJrluKbkuIrvvIjlpoLmnpzkuIDkuKrpobXpnaLlpJrkuKrlm77niYfkuIrkvKDmjqfku7bvvIzlj6/ku6XlgZrljLrliIYKICAgIGZpZWxkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2F2YXRhcicKICAgIH0sCiAgICAvLyDljp/lkI1rZXnvvIznsbvkvLzkuo5pZO+8jOinpuWPkeS6i+S7tuS8muW4puS4iu+8iOWmguaenOS4gOS4qumhtemdouWkmuS4quWbvueJh+S4iuS8oOaOp+S7tu+8jOWPr+S7peWBmuWMuuWIhgogICAga2k6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgLy8g5pi+56S66K+l5o6n5Lu25LiO5ZCmCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgLy8g5LiK5Lyg5Zyw5Z2ACiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIC8vIOWFtuS7luimgeS4iuS8oOaWh+S7tumZhOW4pueahOaVsOaNru+8jOWvueixoeagvOW8jwogICAgcGFyYW1zOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIC8vIEFkZCBjdXN0b20gaGVhZGVycwogICAgaGVhZGVyczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICAvLyDliaroo4Hlm77niYfnmoTlrr0KICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjAwCiAgICB9LAogICAgLy8g5Ymq6KOB5Zu+54mH55qE6auYCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMDAKICAgIH0sCiAgICAvLyDkuI3mmL7npLrml4vovazlip/og70KICAgIG5vUm90YXRlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICAvLyDkuI3pooTop4jlnIblvaLlm77niYcKICAgIG5vQ2lyY2xlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgLy8g5LiN6aKE6KeI5pa55b2i5Zu+54mHCiAgICBub1NxdWFyZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOWNleaWh+S7tuWkp+Wwj+mZkOWItgogICAgbWF4U2l6ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEwMjQwCiAgICB9LAogICAgLy8g6K+t6KiA57G75Z6LCiAgICBsYW5nVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICd6aCcKICAgIH0sCiAgICAvLyDor63oqIDljIUKICAgIGxhbmdFeHQ6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgLy8g5Zu+54mH5LiK5Lyg5qC85byPCiAgICBpbWdGb3JtYXQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAncG5nJwogICAgfSwKICAgIC8vIOaYr+WQpuaUr+aMgei3qOWfnwogICAgd2l0aENyZWRlbnRpYWxzOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIGltZ0Zvcm1hdCA9IHRoaXMuaW1nRm9ybWF0LAogICAgICBsYW5nVHlwZSA9IHRoaXMubGFuZ1R5cGUsCiAgICAgIGxhbmdFeHQgPSB0aGlzLmxhbmdFeHQsCiAgICAgIHdpZHRoID0gdGhpcy53aWR0aCwKICAgICAgaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7CiAgICB2YXIgaXNTdXBwb3J0ZWQgPSB0cnVlOwogICAgdmFyIGFsbG93SW1nRm9ybWF0ID0gWydqcGcnLCAncG5nJ107CiAgICB2YXIgdGVtcEltZ0Zvcm1hdCA9IGFsbG93SW1nRm9ybWF0LmluZGV4T2YoaW1nRm9ybWF0KSA9PT0gLTEgPyAnanBnJyA6IGltZ0Zvcm1hdDsKICAgIHZhciBsYW5nID0gbGFuZ3VhZ2VbbGFuZ1R5cGVdID8gbGFuZ3VhZ2VbbGFuZ1R5cGVdIDogbGFuZ3VhZ2VbJ2VuJ107CiAgICB2YXIgbWltZSA9IG1pbWVzW3RlbXBJbWdGb3JtYXRdOwogICAgLy8g6KeE6IyD5Zu+54mH5qC85byPCiAgICB0aGlzLmltZ0Zvcm1hdCA9IHRlbXBJbWdGb3JtYXQ7CiAgICBpZiAobGFuZ0V4dCkgewogICAgICBPYmplY3QuYXNzaWduKGxhbmcsIGxhbmdFeHQpOwogICAgfQogICAgaWYgKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ2Z1bmN0aW9uJykgewogICAgICBpc1N1cHBvcnRlZCA9IGZhbHNlOwogICAgfQogICAgcmV0dXJuIHsKICAgICAgLy8g5Zu+54mH55qEbWltZQogICAgICBtaW1lOiBtaW1lLAogICAgICAvLyDor63oqIDljIUKICAgICAgbGFuZzogbGFuZywKICAgICAgLy8g5rWP6KeI5Zmo5piv5ZCm5pSv5oyB6K+l5o6n5Lu2CiAgICAgIGlzU3VwcG9ydGVkOiBpc1N1cHBvcnRlZCwKICAgICAgLy8g5rWP6KeI5Zmo5piv5ZCm5pSv5oyB6Kem5bGP5LqL5Lu2CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMKICAgICAgaXNTdXBwb3J0VG91Y2g6IGRvY3VtZW50Lmhhc093blByb3BlcnR5KCdvbnRvdWNoc3RhcnQnKSwKICAgICAgLy8g5q2l6aqkCiAgICAgIHN0ZXA6IDEsCiAgICAgIC8vIDHpgInmi6nmlofku7YgMuWJquijgSAz5LiK5LygCiAgICAgIC8vIOS4iuS8oOeKtuaAgeWPiui/m+W6pgogICAgICBsb2FkaW5nOiAwLAogICAgICAvLyAw5pyq5byA5aeLIDHmraPlnKggMuaIkOWKnyAz6ZSZ6K+vCiAgICAgIHByb2dyZXNzOiAwLAogICAgICAvLyDmmK/lkKbmnInplJnor6/lj4rplJnor6/kv6Hmga8KICAgICAgaGFzRXJyb3I6IGZhbHNlLAogICAgICBlcnJvck1zZzogJycsCiAgICAgIC8vIOmcgOaxguWbvuWuvemrmOavlAogICAgICByYXRpbzogd2lkdGggLyBoZWlnaHQsCiAgICAgIC8vIOWOn+WbvuWcsOWdgOOAgeeUn+aIkOWbvueJh+WcsOWdgAogICAgICBzb3VyY2VJbWc6IG51bGwsCiAgICAgIHNvdXJjZUltZ1VybDogJycsCiAgICAgIGNyZWF0ZUltZ1VybDogJycsCiAgICAgIC8vIOWOn+WbvueJh+aLluWKqOS6i+S7tuWIneWni+WAvAogICAgICBzb3VyY2VJbWdNb3VzZURvd246IHsKICAgICAgICBvbjogZmFsc2UsCiAgICAgICAgbVg6IDAsCiAgICAgICAgLy8g6byg5qCH5oyJ5LiL55qE5Z2Q5qCHCiAgICAgICAgbVk6IDAsCiAgICAgICAgeDogMCwKICAgICAgICAvLyBzY2FsZeWOn+WbvuWdkOaghwogICAgICAgIHk6IDAKICAgICAgfSwKICAgICAgLy8g55Sf5oiQ5Zu+54mH6aKE6KeI55qE5a655Zmo5aSn5bCPCiAgICAgIHByZXZpZXdDb250YWluZXI6IHsKICAgICAgICB3aWR0aDogMTAwLAogICAgICAgIGhlaWdodDogMTAwCiAgICAgIH0sCiAgICAgIC8vIOWOn+WbvuWuueWZqOWuvemrmAogICAgICBzb3VyY2VJbWdDb250YWluZXI6IHsKICAgICAgICAvLyBzaWMKICAgICAgICB3aWR0aDogMjQwLAogICAgICAgIGhlaWdodDogMTg0IC8vIOWmguaenOeUn+aIkOWbvuavlOS+i+S4juatpOS4gOiHtOS8muWHuueOsGJ1Z++8jOWFiOaUueaIkOeJueauiueahOagvOW8j+WQp++8jOWTiOWTiOWTiAogICAgICB9LAoKICAgICAgLy8g5Y6f5Zu+5bGV56S65bGe5oCnCiAgICAgIHNjYWxlOiB7CiAgICAgICAgem9vbUFkZE9uOiBmYWxzZSwKICAgICAgICAvLyDmjInpkq7nvKnmlL7kuovku7blvIDlkK8KICAgICAgICB6b29tU3ViT246IGZhbHNlLAogICAgICAgIC8vIOaMiemSrue8qeaUvuS6i+S7tuW8gOWQrwogICAgICAgIHJhbmdlOiAxLAogICAgICAgIC8vIOacgOWkpzEwMAogICAgICAgIHJvdGF0ZUxlZnQ6IGZhbHNlLAogICAgICAgIC8vIOaMiemSruWQkeW3puaXi+i9rOS6i+S7tuW8gOWQrwogICAgICAgIHJvdGF0ZVJpZ2h0OiBmYWxzZSwKICAgICAgICAvLyDmjInpkq7lkJHlj7Pml4vovazkuovku7blvIDlkK8KICAgICAgICBkZWdyZWU6IDAsCiAgICAgICAgLy8g5peL6L2s5bqm5pWwCiAgICAgICAgeDogMCwKICAgICAgICB5OiAwLAogICAgICAgIHdpZHRoOiAwLAogICAgICAgIGhlaWdodDogMCwKICAgICAgICBtYXhXaWR0aDogMCwKICAgICAgICBtYXhIZWlnaHQ6IDAsCiAgICAgICAgbWluV2lkdGg6IDAsCiAgICAgICAgLy8g5pyA5a69CiAgICAgICAgbWluSGVpZ2h0OiAwLAogICAgICAgIG5hdHVyYWxXaWR0aDogMCwKICAgICAgICAvLyDljp/lrr0KICAgICAgICBuYXR1cmFsSGVpZ2h0OiAwCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g6L+b5bqm5p2h5qC35byPCiAgICBwcm9ncmVzc1N0eWxlOiBmdW5jdGlvbiBwcm9ncmVzc1N0eWxlKCkgewogICAgICB2YXIgcHJvZ3Jlc3MgPSB0aGlzLnByb2dyZXNzOwogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiBwcm9ncmVzcyArICclJwogICAgICB9OwogICAgfSwKICAgIC8vIOWOn+Wbvuagt+W8jwogICAgc291cmNlSW1nU3R5bGU6IGZ1bmN0aW9uIHNvdXJjZUltZ1N0eWxlKCkgewogICAgICB2YXIgc2NhbGUgPSB0aGlzLnNjYWxlLAogICAgICAgIHNvdXJjZUltZ01hc2tpbmcgPSB0aGlzLnNvdXJjZUltZ01hc2tpbmc7CiAgICAgIHZhciB0b3AgPSBzY2FsZS55ICsgc291cmNlSW1nTWFza2luZy55ICsgJ3B4JzsKICAgICAgdmFyIGxlZnQgPSBzY2FsZS54ICsgc291cmNlSW1nTWFza2luZy54ICsgJ3B4JzsKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3A6IHRvcCwKICAgICAgICBsZWZ0OiBsZWZ0LAogICAgICAgIHdpZHRoOiBzY2FsZS53aWR0aCArICdweCcsCiAgICAgICAgaGVpZ2h0OiBzY2FsZS5oZWlnaHQgKyAncHgnLAogICAgICAgIHRyYW5zZm9ybTogJ3JvdGF0ZSgnICsgc2NhbGUuZGVncmVlICsgJ2RlZyknLAogICAgICAgIC8vIOaXi+i9rOaXtiDlt6bkvqfljp/lp4vlm77ml4vovazmoLflvI8KICAgICAgICAnLW1zLXRyYW5zZm9ybSc6ICdyb3RhdGUoJyArIHNjYWxlLmRlZ3JlZSArICdkZWcpJywKICAgICAgICAvLyDlhbzlrrlJRTkKICAgICAgICAnLW1vei10cmFuc2Zvcm0nOiAncm90YXRlKCcgKyBzY2FsZS5kZWdyZWUgKyAnZGVnKScsCiAgICAgICAgLy8g5YW85a65RmlyZUZveAogICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICdyb3RhdGUoJyArIHNjYWxlLmRlZ3JlZSArICdkZWcpJywKICAgICAgICAvLyDlhbzlrrlTYWZhcmkg5ZKMIGNocm9tZQogICAgICAgICctby10cmFuc2Zvcm0nOiAncm90YXRlKCcgKyBzY2FsZS5kZWdyZWUgKyAnZGVnKScgLy8g5YW85a65IE9wZXJhCiAgICAgIH07CiAgICB9LAogICAgLy8g5Y6f5Zu+6JKZ54mI5bGe5oCnCiAgICBzb3VyY2VJbWdNYXNraW5nOiBmdW5jdGlvbiBzb3VyY2VJbWdNYXNraW5nKCkgewogICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoLAogICAgICAgIGhlaWdodCA9IHRoaXMuaGVpZ2h0LAogICAgICAgIHJhdGlvID0gdGhpcy5yYXRpbywKICAgICAgICBzb3VyY2VJbWdDb250YWluZXIgPSB0aGlzLnNvdXJjZUltZ0NvbnRhaW5lcjsKICAgICAgdmFyIHNpYyA9IHNvdXJjZUltZ0NvbnRhaW5lcjsKICAgICAgdmFyIHNpY1JhdGlvID0gc2ljLndpZHRoIC8gc2ljLmhlaWdodDsgLy8g5Y6f5Zu+5a655Zmo5a696auY5q+UCiAgICAgIHZhciB4ID0gMDsKICAgICAgdmFyIHkgPSAwOwogICAgICB2YXIgdyA9IHNpYy53aWR0aDsKICAgICAgdmFyIGggPSBzaWMuaGVpZ2h0OwogICAgICB2YXIgc2NhbGUgPSAxOwogICAgICBpZiAocmF0aW8gPCBzaWNSYXRpbykgewogICAgICAgIHNjYWxlID0gc2ljLmhlaWdodCAvIGhlaWdodDsKICAgICAgICB3ID0gc2ljLmhlaWdodCAqIHJhdGlvOwogICAgICAgIHggPSAoc2ljLndpZHRoIC0gdykgLyAyOwogICAgICB9CiAgICAgIGlmIChyYXRpbyA+IHNpY1JhdGlvKSB7CiAgICAgICAgc2NhbGUgPSBzaWMud2lkdGggLyB3aWR0aDsKICAgICAgICBoID0gc2ljLndpZHRoIC8gcmF0aW87CiAgICAgICAgeSA9IChzaWMuaGVpZ2h0IC0gaCkgLyAyOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgc2NhbGU6IHNjYWxlLAogICAgICAgIC8vIOiSmeeJiOebuOWvuemcgOaxguWuvemrmOeahOe8qeaUvgogICAgICAgIHg6IHgsCiAgICAgICAgeTogeSwKICAgICAgICB3aWR0aDogdywKICAgICAgICBoZWlnaHQ6IGgKICAgICAgfTsKICAgIH0sCiAgICAvLyDljp/lm77pga7nvanmoLflvI8KICAgIHNvdXJjZUltZ1NoYWRlU3R5bGU6IGZ1bmN0aW9uIHNvdXJjZUltZ1NoYWRlU3R5bGUoKSB7CiAgICAgIHZhciBzb3VyY2VJbWdNYXNraW5nID0gdGhpcy5zb3VyY2VJbWdNYXNraW5nLAogICAgICAgIHNvdXJjZUltZ0NvbnRhaW5lciA9IHRoaXMuc291cmNlSW1nQ29udGFpbmVyOwogICAgICB2YXIgc2ljID0gc291cmNlSW1nQ29udGFpbmVyOwogICAgICB2YXIgc2ltID0gc291cmNlSW1nTWFza2luZzsKICAgICAgdmFyIHcgPSBzaW0ud2lkdGggPT09IHNpYy53aWR0aCA/IHNpbS53aWR0aCA6IChzaWMud2lkdGggLSBzaW0ud2lkdGgpIC8gMjsKICAgICAgdmFyIGggPSBzaW0uaGVpZ2h0ID09PSBzaWMuaGVpZ2h0ID8gc2ltLmhlaWdodCA6IChzaWMuaGVpZ2h0IC0gc2ltLmhlaWdodCkgLyAyOwogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB3ICsgJ3B4JywKICAgICAgICBoZWlnaHQ6IGggKyAncHgnCiAgICAgIH07CiAgICB9LAogICAgcHJldmlld1N0eWxlOiBmdW5jdGlvbiBwcmV2aWV3U3R5bGUoKSB7CiAgICAgIHZhciByYXRpbyA9IHRoaXMucmF0aW8sCiAgICAgICAgcHJldmlld0NvbnRhaW5lciA9IHRoaXMucHJldmlld0NvbnRhaW5lcjsKICAgICAgdmFyIHBjID0gcHJldmlld0NvbnRhaW5lcjsKICAgICAgdmFyIHcgPSBwYy53aWR0aDsKICAgICAgdmFyIGggPSBwYy5oZWlnaHQ7CiAgICAgIHZhciBwY1JhdGlvID0gdyAvIGg7CiAgICAgIGlmIChyYXRpbyA8IHBjUmF0aW8pIHsKICAgICAgICB3ID0gcGMuaGVpZ2h0ICogcmF0aW87CiAgICAgIH0KICAgICAgaWYgKHJhdGlvID4gcGNSYXRpbykgewogICAgICAgIGggPSBwYy53aWR0aCAvIHJhdGlvOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHcgKyAncHgnLAogICAgICAgIGhlaWdodDogaCArICdweCcKICAgICAgfTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUobmV3VmFsdWUpIHsKICAgICAgaWYgKG5ld1ZhbHVlICYmIHRoaXMubG9hZGluZyAhPT0gMSkgewogICAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIOe7keWumuaMiemUrmVzY+makOiXj+atpOaPkuS7tuS6i+S7tgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmNsb3NlSGFuZGxlcik7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5jbG9zZUhhbmRsZXIpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g54K55Ye75rOi57q55pWI5p6cCiAgICByaXBwbGU6IGZ1bmN0aW9uIHJpcHBsZShlKSB7CiAgICAgIGVmZmVjdFJpcHBsZShlKTsKICAgIH0sCiAgICAvLyDlhbPpl63mjqfku7YKICAgIG9mZjogZnVuY3Rpb24gb2ZmKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kZW1pdCgnaW5wdXQnLCBmYWxzZSk7CiAgICAgICAgX3RoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICAgICAgaWYgKF90aGlzLnN0ZXAgPT09IDMgJiYgX3RoaXMubG9hZGluZyA9PT0gMikgewogICAgICAgICAgX3RoaXMuc2V0U3RlcCgxKTsKICAgICAgICB9CiAgICAgIH0sIDIwMCk7CiAgICB9LAogICAgLy8g6K6+572u5q2l6aqkCiAgICBzZXRTdGVwOiBmdW5jdGlvbiBzZXRTdGVwKG5vKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICAvLyDlu7bml7bmmK/kuLrkuobmmL7npLrliqjnlLvmlYjmnpzlkaLvvIzlk4jlk4jlk4gKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLnN0ZXAgPSBubzsKICAgICAgfSwgMjAwKTsKICAgIH0sCiAgICAvKiDlm77niYfpgInmi6nljLrln5/lh73mlbDnu5HlrpoNCiAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljayhlKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcgIT09IDEpIHsKICAgICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMuJHJlZnMuZmlsZWlucHV0KSB7CiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGhpcy4kcmVmcykgewogICAgICAgICAgICB0aGlzLiRyZWZzLmZpbGVpbnB1dC5jbGljaygpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBpZiAodGhpcy5sb2FkaW5nICE9PSAxKSB7CiAgICAgICAgdmFyIGZpbGVzID0gZS50YXJnZXQuZmlsZXMgfHwgZS5kYXRhVHJhbnNmZXIuZmlsZXM7CiAgICAgICAgdGhpcy5yZXNldCgpOwogICAgICAgIGlmICh0aGlzLmNoZWNrRmlsZShmaWxlc1swXSkpIHsKICAgICAgICAgIHRoaXMuc2V0U291cmNlSW1nKGZpbGVzWzBdKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwogICAgLy8g5qOA5rWL6YCJ5oup55qE5paH5Lu25piv5ZCm5ZCI6YCCCiAgICBjaGVja0ZpbGU6IGZ1bmN0aW9uIGNoZWNrRmlsZShmaWxlKSB7CiAgICAgIHZhciBsYW5nID0gdGhpcy5sYW5nLAogICAgICAgIG1heFNpemUgPSB0aGlzLm1heFNpemU7CiAgICAgIC8vIOS7hemZkOWbvueJhwogICAgICBpZiAoZmlsZS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IC0xKSB7CiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvck1zZyA9IGxhbmcuZXJyb3Iub25seUltZzsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgLy8g6LaF5Ye65aSn5bCPCiAgICAgIGlmIChmaWxlLnNpemUgLyAxMDI0ID4gbWF4U2l6ZSkgewogICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBsYW5nLmVycm9yLm91dE9mU2l6ZSArIG1heFNpemUgKyAna2InOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICAvLyDph43nva7mjqfku7YKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gMDsKICAgICAgdGhpcy5oYXNFcnJvciA9IGZhbHNlOwogICAgICB0aGlzLmVycm9yTXNnID0gJyc7CiAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwOwogICAgfSwKICAgIC8vIOiuvue9ruWbvueJh+a6kAogICAgc2V0U291cmNlSW1nOiBmdW5jdGlvbiBzZXRTb3VyY2VJbWcoZmlsZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIGZyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgZnIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczMuc291cmNlSW1nVXJsID0gZnIucmVzdWx0OwogICAgICAgIF90aGlzMy5zdGFydENyb3AoKTsKICAgICAgfTsKICAgICAgZnIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgIH0sCiAgICAvLyDliaroo4HliY3lh4blpIflt6XkvZwKICAgIHN0YXJ0Q3JvcDogZnVuY3Rpb24gc3RhcnRDcm9wKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aCwKICAgICAgICBoZWlnaHQgPSB0aGlzLmhlaWdodCwKICAgICAgICByYXRpbyA9IHRoaXMucmF0aW8sCiAgICAgICAgc2NhbGUgPSB0aGlzLnNjYWxlLAogICAgICAgIHNvdXJjZUltZ1VybCA9IHRoaXMuc291cmNlSW1nVXJsLAogICAgICAgIHNvdXJjZUltZ01hc2tpbmcgPSB0aGlzLnNvdXJjZUltZ01hc2tpbmcsCiAgICAgICAgbGFuZyA9IHRoaXMubGFuZzsKICAgICAgdmFyIHNpbSA9IHNvdXJjZUltZ01hc2tpbmc7CiAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgaW1nLnNyYyA9IHNvdXJjZUltZ1VybDsKICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgbldpZHRoID0gaW1nLm5hdHVyYWxXaWR0aDsKICAgICAgICB2YXIgbkhlaWdodCA9IGltZy5uYXR1cmFsSGVpZ2h0OwogICAgICAgIHZhciBuUmF0aW8gPSBuV2lkdGggLyBuSGVpZ2h0OwogICAgICAgIHZhciB3ID0gc2ltLndpZHRoOwogICAgICAgIHZhciBoID0gc2ltLmhlaWdodDsKICAgICAgICB2YXIgeCA9IDA7CiAgICAgICAgdmFyIHkgPSAwOwogICAgICAgIC8vIOWbvueJh+WDj+e0oOS4jei+vuaghwogICAgICAgIGlmIChuV2lkdGggPCB3aWR0aCB8fCBuSGVpZ2h0IDwgaGVpZ2h0KSB7CiAgICAgICAgICBfdGhpczQuaGFzRXJyb3IgPSB0cnVlOwogICAgICAgICAgX3RoaXM0LmVycm9yTXNnID0gbGFuZy5lcnJvci5sb3dlc3RQeCArIHdpZHRoICsgJyonICsgaGVpZ2h0OwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAocmF0aW8gPiBuUmF0aW8pIHsKICAgICAgICAgIGggPSB3IC8gblJhdGlvOwogICAgICAgICAgeSA9IChzaW0uaGVpZ2h0IC0gaCkgLyAyOwogICAgICAgIH0KICAgICAgICBpZiAocmF0aW8gPCBuUmF0aW8pIHsKICAgICAgICAgIHcgPSBoICogblJhdGlvOwogICAgICAgICAgeCA9IChzaW0ud2lkdGggLSB3KSAvIDI7CiAgICAgICAgfQogICAgICAgIHNjYWxlLnJhbmdlID0gMDsKICAgICAgICBzY2FsZS54ID0geDsKICAgICAgICBzY2FsZS55ID0geTsKICAgICAgICBzY2FsZS53aWR0aCA9IHc7CiAgICAgICAgc2NhbGUuaGVpZ2h0ID0gaDsKICAgICAgICBzY2FsZS5kZWdyZWUgPSAwOwogICAgICAgIHNjYWxlLm1pbldpZHRoID0gdzsKICAgICAgICBzY2FsZS5taW5IZWlnaHQgPSBoOwogICAgICAgIHNjYWxlLm1heFdpZHRoID0gbldpZHRoICogc2ltLnNjYWxlOwogICAgICAgIHNjYWxlLm1heEhlaWdodCA9IG5IZWlnaHQgKiBzaW0uc2NhbGU7CiAgICAgICAgc2NhbGUubmF0dXJhbFdpZHRoID0gbldpZHRoOwogICAgICAgIHNjYWxlLm5hdHVyYWxIZWlnaHQgPSBuSGVpZ2h0OwogICAgICAgIF90aGlzNC5zb3VyY2VJbWcgPSBpbWc7CiAgICAgICAgX3RoaXM0LmNyZWF0ZUltZygpOwogICAgICAgIF90aGlzNC5zZXRTdGVwKDIpOwogICAgICB9OwogICAgfSwKICAgIC8vIOm8oOagh+aMieS4i+WbvueJh+WHhuWkh+enu+WKqAogICAgaW1nU3RhcnRNb3ZlOiBmdW5jdGlvbiBpbWdTdGFydE1vdmUoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIC8vIOaUr+aMgeinpuaRuOS6i+S7tu+8jOWImem8oOagh+S6i+S7tuaXoOaViAogICAgICBpZiAodGhpcy5pc1N1cHBvcnRUb3VjaCAmJiAhZS50YXJnZXRUb3VjaGVzKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBldCA9IGUudGFyZ2V0VG91Y2hlcyA/IGUudGFyZ2V0VG91Y2hlc1swXSA6IGU7CiAgICAgIHZhciBzb3VyY2VJbWdNb3VzZURvd24gPSB0aGlzLnNvdXJjZUltZ01vdXNlRG93biwKICAgICAgICBzY2FsZSA9IHRoaXMuc2NhbGU7CiAgICAgIHZhciBzaW1kID0gc291cmNlSW1nTW91c2VEb3duOwogICAgICBzaW1kLm1YID0gZXQuc2NyZWVuWDsKICAgICAgc2ltZC5tWSA9IGV0LnNjcmVlblk7CiAgICAgIHNpbWQueCA9IHNjYWxlLng7CiAgICAgIHNpbWQueSA9IHNjYWxlLnk7CiAgICAgIHNpbWQub24gPSB0cnVlOwogICAgfSwKICAgIC8vIOm8oOagh+aMieS4i+eKtuaAgeS4i+enu+WKqO+8jOWbvueJh+enu+WKqAogICAgaW1nTW92ZTogZnVuY3Rpb24gaW1nTW92ZShlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgLy8g5pSv5oyB6Kem5pG45LqL5Lu277yM5YiZ6byg5qCH5LqL5Lu25peg5pWICiAgICAgIGlmICh0aGlzLmlzU3VwcG9ydFRvdWNoICYmICFlLnRhcmdldFRvdWNoZXMpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIGV0ID0gZS50YXJnZXRUb3VjaGVzID8gZS50YXJnZXRUb3VjaGVzWzBdIDogZTsKICAgICAgdmFyIF90aGlzJHNvdXJjZUltZ01vdXNlRCA9IHRoaXMuc291cmNlSW1nTW91c2VEb3duLAogICAgICAgIG9uID0gX3RoaXMkc291cmNlSW1nTW91c2VELm9uLAogICAgICAgIG1YID0gX3RoaXMkc291cmNlSW1nTW91c2VELm1YLAogICAgICAgIG1ZID0gX3RoaXMkc291cmNlSW1nTW91c2VELm1ZLAogICAgICAgIHggPSBfdGhpcyRzb3VyY2VJbWdNb3VzZUQueCwKICAgICAgICB5ID0gX3RoaXMkc291cmNlSW1nTW91c2VELnksCiAgICAgICAgc2NhbGUgPSB0aGlzLnNjYWxlLAogICAgICAgIHNvdXJjZUltZ01hc2tpbmcgPSB0aGlzLnNvdXJjZUltZ01hc2tpbmc7CiAgICAgIHZhciBzaW0gPSBzb3VyY2VJbWdNYXNraW5nOwogICAgICB2YXIgblggPSBldC5zY3JlZW5YOwogICAgICB2YXIgblkgPSBldC5zY3JlZW5ZOwogICAgICB2YXIgZFggPSBuWCAtIG1YOwogICAgICB2YXIgZFkgPSBuWSAtIG1ZOwogICAgICB2YXIgclggPSB4ICsgZFg7CiAgICAgIHZhciByWSA9IHkgKyBkWTsKICAgICAgaWYgKCFvbikgcmV0dXJuOwogICAgICBpZiAoclggPiAwKSB7CiAgICAgICAgclggPSAwOwogICAgICB9CiAgICAgIGlmIChyWSA+IDApIHsKICAgICAgICByWSA9IDA7CiAgICAgIH0KICAgICAgaWYgKHJYIDwgc2ltLndpZHRoIC0gc2NhbGUud2lkdGgpIHsKICAgICAgICByWCA9IHNpbS53aWR0aCAtIHNjYWxlLndpZHRoOwogICAgICB9CiAgICAgIGlmIChyWSA8IHNpbS5oZWlnaHQgLSBzY2FsZS5oZWlnaHQpIHsKICAgICAgICByWSA9IHNpbS5oZWlnaHQgLSBzY2FsZS5oZWlnaHQ7CiAgICAgIH0KICAgICAgc2NhbGUueCA9IHJYOwogICAgICBzY2FsZS55ID0gclk7CiAgICB9LAogICAgLy8g5oyJ6ZKu5oyJ5LiL5byA5aeL5ZCR5Y+z5peL6L2sCiAgICBzdGFydFJvdGF0ZVJpZ2h0OiBmdW5jdGlvbiBzdGFydFJvdGF0ZVJpZ2h0KGUpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHZhciBzY2FsZSA9IHRoaXMuc2NhbGU7CiAgICAgIHNjYWxlLnJvdGF0ZVJpZ2h0ID0gdHJ1ZTsKICAgICAgdmFyIHJvdGF0ZSA9IGZ1bmN0aW9uIHJvdGF0ZSgpIHsKICAgICAgICBpZiAoc2NhbGUucm90YXRlUmlnaHQpIHsKICAgICAgICAgIHZhciBkZWdyZWUgPSArK3NjYWxlLmRlZ3JlZTsKICAgICAgICAgIF90aGlzNS5jcmVhdGVJbWcoZGVncmVlKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICByb3RhdGUoKTsKICAgICAgICAgIH0sIDYwKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJvdGF0ZSgpOwogICAgfSwKICAgIC8vIOaMiemSruaMieS4i+W8gOWni+WQkeW3puaXi+i9rAogICAgc3RhcnRSb3RhdGVMZWZ0OiBmdW5jdGlvbiBzdGFydFJvdGF0ZUxlZnQoZSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgdmFyIHNjYWxlID0gdGhpcy5zY2FsZTsKICAgICAgc2NhbGUucm90YXRlTGVmdCA9IHRydWU7CiAgICAgIHZhciByb3RhdGUgPSBmdW5jdGlvbiByb3RhdGUoKSB7CiAgICAgICAgaWYgKHNjYWxlLnJvdGF0ZUxlZnQpIHsKICAgICAgICAgIHZhciBkZWdyZWUgPSAtLXNjYWxlLmRlZ3JlZTsKICAgICAgICAgIF90aGlzNi5jcmVhdGVJbWcoZGVncmVlKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICByb3RhdGUoKTsKICAgICAgICAgIH0sIDYwKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJvdGF0ZSgpOwogICAgfSwKICAgIC8vIOWBnOatouaXi+i9rAogICAgZW5kUm90YXRlOiBmdW5jdGlvbiBlbmRSb3RhdGUoKSB7CiAgICAgIHZhciBzY2FsZSA9IHRoaXMuc2NhbGU7CiAgICAgIHNjYWxlLnJvdGF0ZUxlZnQgPSBmYWxzZTsKICAgICAgc2NhbGUucm90YXRlUmlnaHQgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDmjInpkq7mjInkuIvlvIDlp4vmlL7lpKcKICAgIHN0YXJ0Wm9vbUFkZDogZnVuY3Rpb24gc3RhcnRab29tQWRkKGUpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIHZhciBzY2FsZSA9IHRoaXMuc2NhbGU7CiAgICAgIHNjYWxlLnpvb21BZGRPbiA9IHRydWU7CiAgICAgIHZhciB6b29tID0gZnVuY3Rpb24gem9vbSgpIHsKICAgICAgICBpZiAoc2NhbGUuem9vbUFkZE9uKSB7CiAgICAgICAgICB2YXIgcmFuZ2UgPSBzY2FsZS5yYW5nZSA+PSAxMDAgPyAxMDAgOiArK3NjYWxlLnJhbmdlOwogICAgICAgICAgX3RoaXM3Lnpvb21JbWcocmFuZ2UpOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHpvb20oKTsKICAgICAgICAgIH0sIDYwKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHpvb20oKTsKICAgIH0sCiAgICAvLyDmjInpkq7mnb7lvIDmiJbnp7vlvIDlj5bmtojmlL7lpKcKICAgIGVuZFpvb21BZGQ6IGZ1bmN0aW9uIGVuZFpvb21BZGQoZSkgewogICAgICB0aGlzLnNjYWxlLnpvb21BZGRPbiA9IGZhbHNlOwogICAgfSwKICAgIC8vIOaMiemSruaMieS4i+W8gOWni+e8qeWwjwogICAgc3RhcnRab29tU3ViOiBmdW5jdGlvbiBzdGFydFpvb21TdWIoZSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgdmFyIHNjYWxlID0gdGhpcy5zY2FsZTsKICAgICAgc2NhbGUuem9vbVN1Yk9uID0gdHJ1ZTsKICAgICAgdmFyIHpvb20gPSBmdW5jdGlvbiB6b29tKCkgewogICAgICAgIGlmIChzY2FsZS56b29tU3ViT24pIHsKICAgICAgICAgIHZhciByYW5nZSA9IHNjYWxlLnJhbmdlIDw9IDAgPyAwIDogLS1zY2FsZS5yYW5nZTsKICAgICAgICAgIF90aGlzOC56b29tSW1nKHJhbmdlKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB6b29tKCk7CiAgICAgICAgICB9LCA2MCk7CiAgICAgICAgfQogICAgICB9OwogICAgICB6b29tKCk7CiAgICB9LAogICAgLy8g5oyJ6ZKu5p2+5byA5oiW56e75byA5Y+W5raI57yp5bCPCiAgICBlbmRab29tU3ViOiBmdW5jdGlvbiBlbmRab29tU3ViKGUpIHsKICAgICAgdmFyIHNjYWxlID0gdGhpcy5zY2FsZTsKICAgICAgc2NhbGUuem9vbVN1Yk9uID0gZmFsc2U7CiAgICB9LAogICAgem9vbUNoYW5nZTogZnVuY3Rpb24gem9vbUNoYW5nZShlKSB7CiAgICAgIHRoaXMuem9vbUltZyhlLnRhcmdldC52YWx1ZSk7CiAgICB9LAogICAgLy8g57yp5pS+5Y6f5Zu+CiAgICB6b29tSW1nOiBmdW5jdGlvbiB6b29tSW1nKG5ld1JhbmdlKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwogICAgICB2YXIgc291cmNlSW1nTWFza2luZyA9IHRoaXMuc291cmNlSW1nTWFza2luZywKICAgICAgICBzY2FsZSA9IHRoaXMuc2NhbGU7CiAgICAgIHZhciBtYXhXaWR0aCA9IHNjYWxlLm1heFdpZHRoLAogICAgICAgIG1heEhlaWdodCA9IHNjYWxlLm1heEhlaWdodCwKICAgICAgICBtaW5XaWR0aCA9IHNjYWxlLm1pbldpZHRoLAogICAgICAgIG1pbkhlaWdodCA9IHNjYWxlLm1pbkhlaWdodCwKICAgICAgICB3aWR0aCA9IHNjYWxlLndpZHRoLAogICAgICAgIGhlaWdodCA9IHNjYWxlLmhlaWdodCwKICAgICAgICB4ID0gc2NhbGUueCwKICAgICAgICB5ID0gc2NhbGUueTsKICAgICAgdmFyIHNpbSA9IHNvdXJjZUltZ01hc2tpbmc7CiAgICAgIC8vIOiSmeeJiOWuvemrmAogICAgICB2YXIgc1dpZHRoID0gc2ltLndpZHRoOwogICAgICB2YXIgc0hlaWdodCA9IHNpbS5oZWlnaHQ7CiAgICAgIC8vIOaWsOWuvemrmAogICAgICB2YXIgbldpZHRoID0gbWluV2lkdGggKyAobWF4V2lkdGggLSBtaW5XaWR0aCkgKiBuZXdSYW5nZSAvIDEwMDsKICAgICAgdmFyIG5IZWlnaHQgPSBtaW5IZWlnaHQgKyAobWF4SGVpZ2h0IC0gbWluSGVpZ2h0KSAqIG5ld1JhbmdlIC8gMTAwOwogICAgICAvLyDmlrDlnZDmoIfvvIjmoLnmja7okpnniYjkuK3lv4PngrnnvKnmlL7vvIkKICAgICAgdmFyIG5YID0gc1dpZHRoIC8gMiAtIG5XaWR0aCAvIHdpZHRoICogKHNXaWR0aCAvIDIgLSB4KTsKICAgICAgdmFyIG5ZID0gc0hlaWdodCAvIDIgLSBuSGVpZ2h0IC8gaGVpZ2h0ICogKHNIZWlnaHQgLyAyIC0geSk7CiAgICAgIC8vIOWIpOaWreaWsOWdkOagh+aYr+WQpui2hei/h+iSmeeJiOmZkOWItgogICAgICBpZiAoblggPiAwKSB7CiAgICAgICAgblggPSAwOwogICAgICB9CiAgICAgIGlmIChuWSA+IDApIHsKICAgICAgICBuWSA9IDA7CiAgICAgIH0KICAgICAgaWYgKG5YIDwgc1dpZHRoIC0gbldpZHRoKSB7CiAgICAgICAgblggPSBzV2lkdGggLSBuV2lkdGg7CiAgICAgIH0KICAgICAgaWYgKG5ZIDwgc0hlaWdodCAtIG5IZWlnaHQpIHsKICAgICAgICBuWSA9IHNIZWlnaHQgLSBuSGVpZ2h0OwogICAgICB9CiAgICAgIC8vIOi1i+WAvOWkhOeQhgogICAgICBzY2FsZS54ID0gblg7CiAgICAgIHNjYWxlLnkgPSBuWTsKICAgICAgc2NhbGUud2lkdGggPSBuV2lkdGg7CiAgICAgIHNjYWxlLmhlaWdodCA9IG5IZWlnaHQ7CiAgICAgIHNjYWxlLnJhbmdlID0gbmV3UmFuZ2U7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChzY2FsZS5yYW5nZSA9PT0gbmV3UmFuZ2UpIHsKICAgICAgICAgIF90aGlzOS5jcmVhdGVJbWcoKTsKICAgICAgICB9CiAgICAgIH0sIDMwMCk7CiAgICB9LAogICAgLy8g55Sf5oiQ6ZyA5rGC5Zu+54mHCiAgICBjcmVhdGVJbWc6IGZ1bmN0aW9uIGNyZWF0ZUltZyhlKSB7CiAgICAgIHZhciBtaW1lID0gdGhpcy5taW1lLAogICAgICAgIHNvdXJjZUltZyA9IHRoaXMuc291cmNlSW1nLAogICAgICAgIF90aGlzJHNjYWxlID0gdGhpcy5zY2FsZSwKICAgICAgICB4ID0gX3RoaXMkc2NhbGUueCwKICAgICAgICB5ID0gX3RoaXMkc2NhbGUueSwKICAgICAgICB3aWR0aCA9IF90aGlzJHNjYWxlLndpZHRoLAogICAgICAgIGhlaWdodCA9IF90aGlzJHNjYWxlLmhlaWdodCwKICAgICAgICBkZWdyZWUgPSBfdGhpcyRzY2FsZS5kZWdyZWUsCiAgICAgICAgc2NhbGUgPSB0aGlzLnNvdXJjZUltZ01hc2tpbmcuc2NhbGU7CiAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLmNhbnZhczsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICBpZiAoZSkgewogICAgICAgIC8vIOWPlua2iOm8oOagh+aMieS4i+enu+WKqOeKtuaAgQogICAgICAgIHRoaXMuc291cmNlSW1nTW91c2VEb3duLm9uID0gZmFsc2U7CiAgICAgIH0KICAgICAgY2FudmFzLndpZHRoID0gdGhpcy53aWR0aDsKICAgICAgY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0OwogICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTsKICAgICAgLy8g5bCG6YCP5piO5Yy65Z+f6K6+572u5Li655m96Imy5bqV6L65CiAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmZic7CiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7CiAgICAgIGN0eC50cmFuc2xhdGUodGhpcy53aWR0aCAqIDAuNSwgdGhpcy5oZWlnaHQgKiAwLjUpOwogICAgICBjdHgucm90YXRlKE1hdGguUEkgKiBkZWdyZWUgLyAxODApOwogICAgICBjdHgudHJhbnNsYXRlKC10aGlzLndpZHRoICogMC41LCAtdGhpcy5oZWlnaHQgKiAwLjUpOwogICAgICBjdHguZHJhd0ltYWdlKHNvdXJjZUltZywgeCAvIHNjYWxlLCB5IC8gc2NhbGUsIHdpZHRoIC8gc2NhbGUsIGhlaWdodCAvIHNjYWxlKTsKICAgICAgdGhpcy5jcmVhdGVJbWdVcmwgPSBjYW52YXMudG9EYXRhVVJMKG1pbWUpOwogICAgfSwKICAgIHByZXBhcmVVcGxvYWQ6IGZ1bmN0aW9uIHByZXBhcmVVcGxvYWQoKSB7CiAgICAgIHZhciB1cmwgPSB0aGlzLnVybCwKICAgICAgICBjcmVhdGVJbWdVcmwgPSB0aGlzLmNyZWF0ZUltZ1VybCwKICAgICAgICBmaWVsZCA9IHRoaXMuZmllbGQsCiAgICAgICAga2kgPSB0aGlzLmtpOwogICAgICB0aGlzLiRlbWl0KCdjcm9wLXN1Y2Nlc3MnLCBjcmVhdGVJbWdVcmwsIGZpZWxkLCBraSk7CiAgICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJyAmJiB1cmwpIHsKICAgICAgICB0aGlzLnVwbG9hZCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMub2ZmKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDkuIrkvKDlm77niYcKICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CiAgICAgIHZhciBsYW5nID0gdGhpcy5sYW5nLAogICAgICAgIGltZ0Zvcm1hdCA9IHRoaXMuaW1nRm9ybWF0LAogICAgICAgIG1pbWUgPSB0aGlzLm1pbWUsCiAgICAgICAgdXJsID0gdGhpcy51cmwsCiAgICAgICAgcGFyYW1zID0gdGhpcy5wYXJhbXMsCiAgICAgICAgZmllbGQgPSB0aGlzLmZpZWxkLAogICAgICAgIGtpID0gdGhpcy5raSwKICAgICAgICBjcmVhdGVJbWdVcmwgPSB0aGlzLmNyZWF0ZUltZ1VybDsKICAgICAgdmFyIGZtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmbURhdGEuYXBwZW5kKGZpZWxkLCBkYXRhMmJsb2IoY3JlYXRlSW1nVXJsLCBtaW1lKSwgZmllbGQgKyAnLicgKyBpbWdGb3JtYXQpOwogICAgICAvLyDmt7vliqDlhbbku5blj4LmlbAKICAgICAgaWYgKF90eXBlb2YocGFyYW1zKSA9PT0gJ29iamVjdCcgJiYgcGFyYW1zKSB7CiAgICAgICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgICBmbURhdGEuYXBwZW5kKGssIHBhcmFtc1trXSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLy8g55uR5ZCs6L+b5bqm5Zue6LCDCiAgICAgIC8vIGNvbnN0IHVwbG9hZFByb2dyZXNzID0gKGV2ZW50KSA9PiB7CiAgICAgIC8vICAgaWYgKGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHsKICAgICAgLy8gICAgIHRoaXMucHJvZ3Jlc3MgPSAxMDAgKiBNYXRoLnJvdW5kKGV2ZW50LmxvYWRlZCkgLyBldmVudC50b3RhbAogICAgICAvLyAgIH0KICAgICAgLy8gfQogICAgICAvLyDkuIrkvKDmlofku7YKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLmxvYWRpbmcgPSAxOwogICAgICB0aGlzLnNldFN0ZXAoMyk7CiAgICAgIHJlcXVlc3QoewogICAgICAgIHVybDogdXJsLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGRhdGE6IGZtRGF0YQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNEYXRhKSB7CiAgICAgICAgX3RoaXMxMC5sb2FkaW5nID0gMjsKICAgICAgICBfdGhpczEwLiRlbWl0KCdjcm9wLXVwbG9hZC1zdWNjZXNzJywgcmVzRGF0YS5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGlmIChfdGhpczEwLnZhbHVlKSB7CiAgICAgICAgICBfdGhpczEwLmxvYWRpbmcgPSAzOwogICAgICAgICAgX3RoaXMxMC5oYXNFcnJvciA9IHRydWU7CiAgICAgICAgICBfdGhpczEwLmVycm9yTXNnID0gbGFuZy5mYWlsOwogICAgICAgICAgX3RoaXMxMC4kZW1pdCgnY3JvcC11cGxvYWQtZmFpbCcsIGVyciwgZmllbGQsIGtpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlSGFuZGxlcjogZnVuY3Rpb24gY2xvc2VIYW5kbGVyKGUpIHsKICAgICAgaWYgKHRoaXMudmFsdWUgJiYgKGUua2V5ID09PSAnRXNjYXBlJyB8fCBlLmtleUNvZGUgPT09IDI3KSkgewogICAgICAgIHRoaXMub2ZmKCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},null]}