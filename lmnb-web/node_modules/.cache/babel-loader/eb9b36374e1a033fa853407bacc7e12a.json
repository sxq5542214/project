{"remainingRequest":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\babel-loader\\lib\\index.js!G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\eslint-loader\\index.js??ref--13-0!G:\\vs_workspace\\git_sxq\\lmnb-web\\src\\api\\dictionaryManager.js","dependencies":[{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\src\\api\\dictionaryManager.js","mtime":1697545098259},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\babel.config.js","mtime":1697545098144},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686317881343},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1686317882159},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\eslint-loader\\index.js","mtime":1686317878840}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCByZXF1ZXN0IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCc7CnZhciBzdG9yZGVOYW1lID0gJ2RpY3Rpb25hcnlNYXAnOwpleHBvcnQgZnVuY3Rpb24gaW5pdEFsbERpY3Rpb25hcnkoKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL2RpY3Rpb25hcnkvYWpheFF1ZXJ5QWxsRGljdGlvbmFyeUJ5Q2FjaGUuZG8nLAogICAgbWV0aG9kOiAnZ2V0JwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXREZXNjQnlCZWFuQXR0clZhbHVlKGJlYW5uYW1lLCBhdHRyLCB2YWx1ZSkgewogIHZhciBkaWN0aW9uYXJ5Q2FjaGUgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShzdG9yZGVOYW1lKTsKICBpZiAoZGljdGlvbmFyeUNhY2hlKSB7CiAgICBkaWN0aW9uYXJ5Q2FjaGUgPSBKU09OLnBhcnNlKGRpY3Rpb25hcnlDYWNoZSk7CiAgICByZXR1cm4gZGljdGlvbmFyeUNhY2hlW2JlYW5uYW1lXVthdHRyXVt2YWx1ZV07CiAgfSBlbHNlIHsKICAgIGNvbnNvbGUubG9nKCdkaWN0aW9uYXJ5Q2FjaGUgbm90IGZvdW5kOicgKyBiZWFubmFtZSArICcuJyArIGF0dHIgKyAnLicgKyB2YWx1ZSk7CiAgICAvLyBpbml0QWxsRGljdGlvbmFyeSgpLnRoZW4ocmVzID0+IHsKICAgIC8vICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2RpY3Rpb25hcnlNYXAnLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpCiAgICAvLyB9KQogICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAvLyAgIHJldHVybiBnZXREZXNjQnlCZWFuQXR0clZhbHVlKGJlYW5uYW1lLCBhdHRyLCB2YWx1ZSkKICAgIC8vIH0sIDEgKiAxMDAwKQogICAgcmV0dXJuIHZhbHVlOwogIH0KfQpleHBvcnQgZnVuY3Rpb24gZ2V0RGVzY0J5QmVhbkF0dHJMaXN0KGJlYW5uYW1lLCBhdHRyLCB2YWx1ZSkgewogIHZhciBkaWN0aW9uYXJ5Q2FjaGUgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShzdG9yZGVOYW1lKTsKICBpZiAoZGljdGlvbmFyeUNhY2hlKSB7CiAgICBkaWN0aW9uYXJ5Q2FjaGUgPSBKU09OLnBhcnNlKGRpY3Rpb25hcnlDYWNoZSk7CiAgICAvLyBhbGVydChkaWN0aW9uYXJ5Q2FjaGVbYmVhbm5hbWVdW2F0dHJdKQogICAgY29uc29sZS5sb2coZGljdGlvbmFyeUNhY2hlW2JlYW5uYW1lXVthdHRyXSk7CiAgICByZXR1cm4gZGljdGlvbmFyeUNhY2hlW2JlYW5uYW1lXVthdHRyXTsKICB9IGVsc2UgewogICAgY29uc29sZS5sb2coJ2RpY3Rpb25hcnlDYWNoZUxpc3Qgbm90IGZvdW5kTGlzdDonICsgYmVhbm5hbWUgKyAnLicgKyBhdHRyKTsKICAgIC8vIGluaXRBbGxEaWN0aW9uYXJ5KCkudGhlbihyZXMgPT4gewogICAgLy8gICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnZGljdGlvbmFyeU1hcCcsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKSkKICAgIC8vIH0pCiAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgcmV0dXJuIGdldERlc2NCeUJlYW5BdHRyVmFsdWUoYmVhbm5hbWUsIGF0dHIsIHZhbHVlKQogICAgLy8gfSwgMSAqIDEwMDApCiAgICByZXR1cm4gdmFsdWU7CiAgfQp9CmV4cG9ydCBmdW5jdGlvbiBxdWVyeURpY3Rpb25hcnlMaXN0KHRhYmxlTmFtZSwgYXR0cmlidXRlKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL2FkbWluL2RpY3Rpb25hcnkvYWpheFF1ZXJ5RGljdGlvbmFyeUxpc3QuZG8nLAogICAgbWV0aG9kOiAnZ2V0JywKICAgIHBhcmFtczogewogICAgICB0YWJsZW5hbWU6IHRhYmxlTmFtZSwKICAgICAgYXR0cmlidXRlOiBhdHRyaWJ1dGUKICAgIH0KICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gcXVlcnlEaWN0aW9uYXJ5VmFsdWUodGFibGVOYW1lLCBhdHRyaWJ1dGUsIHZhbHVlKSB7CiAgdmFyIHJlc3VsdCA9IHRoaXMucXVlcnlEaWN0aW9uYXJ5TGlzdCh0YWJsZU5hbWUsIGF0dHJpYnV0ZSk7CiAgdmFyIGRhdGFMaXN0ID0gcmVzdWx0LmRhdGE7CiAgZGF0YUxpc3QuZmluZDsKICByZXR1cm4gcmVxdWVzdCh7CiAgICB1cmw6ICcvYWRtaW4vZGljdGlvbmFyeS9hamF4UXVlcnlEaWN0aW9uYXJ5TGlzdC5kbycsCiAgICBtZXRob2Q6ICdnZXQnLAogICAgcGFyYW1zOiB7CiAgICAgIHRhYmxlbmFtZTogdGFibGVOYW1lLAogICAgICBhdHRyaWJ1dGU6IGF0dHJpYnV0ZQogICAgfQogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBxdWVyeU1ldGVyQ2FsaWJlckxpc3QoZGF0YSkgewogIHJldHVybiBxdWVyeURpY3Rpb25hcnlMaXN0KCdtZXRlcicsICdjYWxpYmVyJyk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5TWV0ZXJPcGVuZWRMaXN0KGRhdGEpIHsKICByZXR1cm4gcXVlcnlEaWN0aW9uYXJ5TGlzdCgnbWV0ZXInLCAnb3BlbmVkJyk7Cn0="},{"version":3,"names":["request","stordeName","initAllDictionary","url","method","getDescByBeanAttrValue","beanname","attr","value","dictionaryCache","window","sessionStorage","getItem","JSON","parse","console","log","getDescByBeanAttrList","queryDictionaryList","tableName","attribute","params","tablename","queryDictionaryValue","result","dataList","data","find","queryMeterCaliberList","queryMeterOpenedList"],"sources":["G:/vs_workspace/git_sxq/lmnb-web/src/api/dictionaryManager.js"],"sourcesContent":["import request from '@/utils/request'\r\nconst stordeName = 'dictionaryMap'\r\n\r\nexport function initAllDictionary() {\r\n  return request({\r\n    url: '/dictionary/ajaxQueryAllDictionaryByCache.do',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function getDescByBeanAttrValue(beanname, attr, value) {\r\n  var dictionaryCache = window.sessionStorage.getItem(stordeName)\r\n  if (dictionaryCache) {\r\n    dictionaryCache = JSON.parse(dictionaryCache)\r\n    return dictionaryCache[beanname][attr][value]\r\n  } else {\r\n    console.log('dictionaryCache not found:' + beanname + '.' + attr + '.' + value)\r\n    // initAllDictionary().then(res => {\r\n    //   window.sessionStorage.setItem('dictionaryMap', JSON.stringify(res.data))\r\n    // })\r\n    // setTimeout(() => {\r\n    //   return getDescByBeanAttrValue(beanname, attr, value)\r\n    // }, 1 * 1000)\r\n    return value\r\n  }\r\n}\r\nexport function getDescByBeanAttrList(beanname, attr, value) {\r\n  var dictionaryCache = window.sessionStorage.getItem(stordeName)\r\n  if (dictionaryCache) {\r\n    dictionaryCache = JSON.parse(dictionaryCache)\r\n    // alert(dictionaryCache[beanname][attr])\r\n    console.log(dictionaryCache[beanname][attr])\r\n    return dictionaryCache[beanname][attr]\r\n  } else {\r\n    console.log('dictionaryCacheList not foundList:' + beanname + '.' + attr)\r\n    // initAllDictionary().then(res => {\r\n    //   window.sessionStorage.setItem('dictionaryMap', JSON.stringify(res.data))\r\n    // })\r\n    // setTimeout(() => {\r\n    //   return getDescByBeanAttrValue(beanname, attr, value)\r\n    // }, 1 * 1000)\r\n    return value\r\n  }\r\n}\r\nexport function queryDictionaryList(tableName, attribute) {\r\n  return request({\r\n    url: '/admin/dictionary/ajaxQueryDictionaryList.do',\r\n    method: 'get',\r\n    params: { tablename: tableName, attribute: attribute }\r\n  })\r\n}\r\n\r\nexport function queryDictionaryValue(tableName, attribute, value) {\r\n  var result = this.queryDictionaryList(tableName, attribute)\r\n  var dataList = result.data\r\n  dataList.find\r\n  return request({\r\n    url: '/admin/dictionary/ajaxQueryDictionaryList.do',\r\n    method: 'get',\r\n    params: { tablename: tableName, attribute: attribute }\r\n  })\r\n}\r\n\r\nexport function queryMeterCaliberList(data) {\r\n  return queryDictionaryList('meter', 'caliber')\r\n}\r\n\r\nexport function queryMeterOpenedList(data) {\r\n  return queryDictionaryList('meter', 'opened')\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,OAAO,MAAM,iBAAiB;AACrC,IAAMC,UAAU,GAAG,eAAe;AAElC,OAAO,SAASC,iBAAiBA,CAAA,EAAG;EAClC,OAAOF,OAAO,CAAC;IACbG,GAAG,EAAE,8CAA8C;IACnDC,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;AAEA,OAAO,SAASC,sBAAsBA,CAACC,QAAQ,EAAEC,IAAI,EAAEC,KAAK,EAAE;EAC5D,IAAIC,eAAe,GAAGC,MAAM,CAACC,cAAc,CAACC,OAAO,CAACX,UAAU,CAAC;EAC/D,IAAIQ,eAAe,EAAE;IACnBA,eAAe,GAAGI,IAAI,CAACC,KAAK,CAACL,eAAe,CAAC;IAC7C,OAAOA,eAAe,CAACH,QAAQ,CAAC,CAACC,IAAI,CAAC,CAACC,KAAK,CAAC;EAC/C,CAAC,MAAM;IACLO,OAAO,CAACC,GAAG,CAAC,4BAA4B,GAAGV,QAAQ,GAAG,GAAG,GAAGC,IAAI,GAAG,GAAG,GAAGC,KAAK,CAAC;IAC/E;IACA;IACA;IACA;IACA;IACA;IACA,OAAOA,KAAK;EACd;AACF;AACA,OAAO,SAASS,qBAAqBA,CAACX,QAAQ,EAAEC,IAAI,EAAEC,KAAK,EAAE;EAC3D,IAAIC,eAAe,GAAGC,MAAM,CAACC,cAAc,CAACC,OAAO,CAACX,UAAU,CAAC;EAC/D,IAAIQ,eAAe,EAAE;IACnBA,eAAe,GAAGI,IAAI,CAACC,KAAK,CAACL,eAAe,CAAC;IAC7C;IACAM,OAAO,CAACC,GAAG,CAACP,eAAe,CAACH,QAAQ,CAAC,CAACC,IAAI,CAAC,CAAC;IAC5C,OAAOE,eAAe,CAACH,QAAQ,CAAC,CAACC,IAAI,CAAC;EACxC,CAAC,MAAM;IACLQ,OAAO,CAACC,GAAG,CAAC,oCAAoC,GAAGV,QAAQ,GAAG,GAAG,GAAGC,IAAI,CAAC;IACzE;IACA;IACA;IACA;IACA;IACA;IACA,OAAOC,KAAK;EACd;AACF;AACA,OAAO,SAASU,mBAAmBA,CAACC,SAAS,EAAEC,SAAS,EAAE;EACxD,OAAOpB,OAAO,CAAC;IACbG,GAAG,EAAE,8CAA8C;IACnDC,MAAM,EAAE,KAAK;IACbiB,MAAM,EAAE;MAAEC,SAAS,EAAEH,SAAS;MAAEC,SAAS,EAAEA;IAAU;EACvD,CAAC,CAAC;AACJ;AAEA,OAAO,SAASG,oBAAoBA,CAACJ,SAAS,EAAEC,SAAS,EAAEZ,KAAK,EAAE;EAChE,IAAIgB,MAAM,GAAG,IAAI,CAACN,mBAAmB,CAACC,SAAS,EAAEC,SAAS,CAAC;EAC3D,IAAIK,QAAQ,GAAGD,MAAM,CAACE,IAAI;EAC1BD,QAAQ,CAACE,IAAI;EACb,OAAO3B,OAAO,CAAC;IACbG,GAAG,EAAE,8CAA8C;IACnDC,MAAM,EAAE,KAAK;IACbiB,MAAM,EAAE;MAAEC,SAAS,EAAEH,SAAS;MAAEC,SAAS,EAAEA;IAAU;EACvD,CAAC,CAAC;AACJ;AAEA,OAAO,SAASQ,qBAAqBA,CAACF,IAAI,EAAE;EAC1C,OAAOR,mBAAmB,CAAC,OAAO,EAAE,SAAS,CAAC;AAChD;AAEA,OAAO,SAASW,oBAAoBA,CAACH,IAAI,EAAE;EACzC,OAAOR,mBAAmB,CAAC,OAAO,EAAE,QAAQ,CAAC;AAC/C"}]}