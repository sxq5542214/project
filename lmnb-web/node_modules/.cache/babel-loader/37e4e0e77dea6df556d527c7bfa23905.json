{"remainingRequest":"H:\\workspaces\\vueProject\\lm\\node_modules\\babel-loader\\lib\\index.js!H:\\workspaces\\vueProject\\lm\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!H:\\workspaces\\vueProject\\lm\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\workspaces\\vueProject\\lm\\src\\views\\business\\charge\\chargeManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"H:\\workspaces\\vueProject\\lm\\src\\views\\business\\charge\\chargeManager.vue","mtime":1690379390987},{"path":"H:\\workspaces\\vueProject\\lm\\babel.config.js","mtime":1686317623477},{"path":"H:\\workspaces\\vueProject\\lm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686317881343},{"path":"H:\\workspaces\\vueProject\\lm\\node_modules\\babel-loader\\lib\\index.js","mtime":1686317882159},{"path":"H:\\workspaces\\vueProject\\lm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686317881343},{"path":"H:\\workspaces\\vueProject\\lm\\node_modules\\vue-loader\\lib\\index.js","mtime":1686317877157}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHF1ZXJ5QWRkcmVzc0xpc3QgfSBmcm9tICJAL2FwaS9hZGRyZXNzTWFuYWdlciI7CmltcG9ydCB7IHF1ZXJ5TWV0ZXJBbmRVc2VyTGlzdCB9IGZyb20gIkAvYXBpL21ldGVyTWFuYWdlciI7CmltcG9ydCB7IGluaXRBbGxEaWN0aW9uYXJ5LCBnZXREZXNjQnlCZWFuQXR0clZhbHVlIH0gZnJvbSAiQC9hcGkvZGljdGlvbmFyeU1hbmFnZXIiOwppbXBvcnQgd2F2ZXMgZnJvbSAiQC9kaXJlY3RpdmUvd2F2ZXMiOyAvLyB3YXZlcyBkaXJlY3RpdmUKaW1wb3J0IHsgcGFyc2VUaW1lIH0gZnJvbSAiQC91dGlscyI7CmltcG9ydCBQYWdpbmF0aW9uIGZyb20gIkAvY29tcG9uZW50cy9QYWdpbmF0aW9uIjsgLy8gc2Vjb25kYXJ5IHBhY2thZ2UgYmFzZWQgb24gZWwtcGFnaW5hdGlvbgoKaW1wb3J0IGJpbGxEaWFsb2cgZnJvbSAiLi9iaWxsRGlhbG9nIjsKaW1wb3J0IGNoYXJnZUxvZ0RpYWxvZyBmcm9tICIuL2NoYXJnZUxvZ0RpYWxvZyI7CmltcG9ydCBjaGFyZ2VEaWFsb2cgZnJvbSAiLi9jaGFyZ2VEaWFsb2ciOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNoYXJnZVRhYmxlIiwKICBjb21wb25lbnRzOiB7CiAgICBQYWdpbmF0aW9uOiBQYWdpbmF0aW9uLAogICAgYmlsbERpYWxvZzogYmlsbERpYWxvZywKICAgIGNoYXJnZUxvZ0RpYWxvZzogY2hhcmdlTG9nRGlhbG9nLAogICAgY2hhcmdlRGlhbG9nOiBjaGFyZ2VEaWFsb2cKICB9LAogIGRpcmVjdGl2ZXM6IHsKICAgIHdhdmVzOiB3YXZlcwogIH0sCiAgZmlsdGVyczoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbmREZXNjQnlWYWx1ZTogZ2V0RGVzY0J5QmVhbkF0dHJWYWx1ZSwKICAgICAgdGFibGVLZXk6IDAsCiAgICAgIGxpc3Q6IG51bGwsCiAgICAgIHRvdGFsOiAwLAogICAgICByYWRpb01ldGVyOiB1bmRlZmluZWQsCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICBsaXN0UXVlcnk6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIHJvd3M6IDIwLAogICAgICAgIGltcG9ydGFuY2U6IHVuZGVmaW5lZCwKICAgICAgICB0aXRsZTogdW5kZWZpbmVkLAogICAgICAgIHR5cGU6IHVuZGVmaW5lZCwKICAgICAgICBzb3J0OiAiK2lkIgogICAgICB9LAogICAgICBzZWxlY3RSb3c6IHt9LAogICAgICBhcmVhTGlzdDogW10sCiAgICAgIHNob3dSZXZpZXdlcjogZmFsc2UsCiAgICAgIGRvd25sb2FkTG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaW5pdEFsbERpY3Rpb25hcnkoKTsKICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgdGhpcy51cGRhdGVBZGRyZXNzTGlzdCgxLCBudWxsKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlOwogICAgICBxdWVyeU1ldGVyQW5kVXNlckxpc3QodGhpcy5saXN0UXVlcnkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXNwb25zZS50b3RhbDsKCiAgICAgICAgLy8gSnVzdCB0byBzaW11bGF0ZSB0aGUgdGltZSBvZiB0aGUgcmVxdWVzdAogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMubGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9LCAwLjUgKiAxMDAwKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlQWRkcmVzc0xpc3Q6IGZ1bmN0aW9uIHVwZGF0ZUFkZHJlc3NMaXN0KGxldmVsLCBwYXJlbnRJZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKCFsZXZlbCkgewogICAgICAgIGxldmVsID0gMTsKICAgICAgfQogICAgICBxdWVyeUFkZHJlc3NMaXN0KHsKICAgICAgICBsZXZlbDogbGV2ZWwsCiAgICAgICAgcGFyZW50SWQ6IHBhcmVudElkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmFyZWFMaXN0W2xldmVsIC0gMV0gPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzMi4kZm9yY2VVcGRhdGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlQWxsQXJlYTogZnVuY3Rpb24gdXBkYXRlQWxsQXJlYSh2YWwsIGxldmVsKSB7CiAgICAgIGlmIChsZXZlbCA9PSAxKSB7CiAgICAgICAgdGhpcy5hcmVhTGlzdFsxXSA9IHt9OwogICAgICAgIHRoaXMuYXJlYUxpc3RbMl0gPSB7fTsKICAgICAgICB0aGlzLmxpc3RRdWVyeS5hcmVhMiA9ICIiOwogICAgICAgIHRoaXMubGlzdFF1ZXJ5LmFyZWEzID0gIiI7CiAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT0gMikgewogICAgICAgIHRoaXMuYXJlYUxpc3RbMl0gPSB7fTsKICAgICAgICB0aGlzLmxpc3RRdWVyeS5hcmVhMyA9ICIiOwogICAgICB9CiAgICAgIHZhciBvYmogPSB0aGlzLmFyZWFMaXN0W2xldmVsIC0gMV0uZmluZChmdW5jdGlvbiAobykgewogICAgICAgIHJldHVybiBvLm5hbWUgPT09IHZhbDsKICAgICAgfSk7CiAgICAgIHRoaXMudXBkYXRlQWRkcmVzc0xpc3QobGV2ZWwgKyAxLCBvYmouaWQpOwogICAgfSwKICAgIHNldEFyZWEzOiBmdW5jdGlvbiBzZXRBcmVhMyh2YWwpIHsKICAgICAgdGhpcy5saXN0UXVlcnkuYXJlYTMgPSB2YWw7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICB9LAogICAgaGFuZGxlRmlsdGVyOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXIoKSB7CiAgICAgIHRoaXMubGlzdFF1ZXJ5LnBhZ2UgPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICByb3dDbGljazogZnVuY3Rpb24gcm93Q2xpY2socm93LCBjb2x1bW4sIGV2ZW50KSB7CiAgICAgIHRoaXMuc2VsZWN0Um93ID0gcm93OwogICAgfSwKICAgIHNob3dCaWxsRGlhbG9nOiBmdW5jdGlvbiBzaG93QmlsbERpYWxvZygpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuYmlsbERpYWxvZy51c2VyaWQpIHsKICAgICAgICB0aGlzLiRyZWZzLmJpbGxEaWFsb2cudXNlck5hbWUgPSB0aGlzLnNlbGVjdFJvdy51c2VyTmFtZSArICfnmoTmnIjotKbljZUnOwogICAgICAgIHRoaXMuJHJlZnMuYmlsbERpYWxvZy5kaWFsb2dUYWJsZVZpc2libGUgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogIuivt+WFiOmAieaLqeeUqOaItyIsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35YWI6YCJ5oup55So5oi377yM5YaN5p+l6K+i6LSm5Y2VIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2hvd0NoYXJnZUxvZ0RpYWxvZzogZnVuY3Rpb24gc2hvd0NoYXJnZUxvZ0RpYWxvZygpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuY2hhcmdlTG9nRGlhbG9nLnVzZXJpZCkgewogICAgICAgIHRoaXMuJHJlZnMuY2hhcmdlTG9nRGlhbG9nLnVzZXJOYW1lID0gdGhpcy5zZWxlY3RSb3cudXNlck5hbWUgKyAn55qE5YWF5YC86K6w5b2VJzsKICAgICAgICB0aGlzLiRyZWZzLmNoYXJnZUxvZ0RpYWxvZy5kaWFsb2dUYWJsZVZpc2libGUgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogIuivt+WFiOmAieaLqeeUqOaItyIsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35YWI6YCJ5oup55So5oi377yM5YaN5p+l6K+i5YWF5YC86K6w5b2VIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2hvd0NoYXJnZURpYWxvZzogZnVuY3Rpb24gc2hvd0NoYXJnZURpYWxvZygpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuY2hhcmdlRGlhbG9nLnVzZXJpZCkgewogICAgICAgIHRoaXMuJHJlZnMuY2hhcmdlRGlhbG9nLnVzZXJOYW1lID0gdGhpcy5zZWxlY3RSb3cudXNlck5hbWU7CiAgICAgICAgdGhpcy4kcmVmcy5jaGFyZ2VEaWFsb2cubWV0ZXJDb2RlID0gdGhpcy5zZWxlY3RSb3cuY29kZTsKICAgICAgICB0aGlzLiRyZWZzLmNoYXJnZURpYWxvZy5iYWxhbmNlID0gdGhpcy5zZWxlY3RSb3cuYmFsYW5jZTsKICAgICAgICB0aGlzLiRyZWZzLmNoYXJnZURpYWxvZy5kaWFsb2dUYWJsZVZpc2libGUgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogIuivt+WFiOmAieaLqeeUqOaItyIsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35YWI6YCJ5oup55So5oi377yM5YaN54K55Ye75YWF5YC8IiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["queryAddressList","queryMeterAndUserList","initAllDictionary","getDescByBeanAttrValue","waves","parseTime","Pagination","billDialog","chargeLogDialog","chargeDialog","name","components","directives","filters","data","findDescByValue","tableKey","list","total","radioMeter","undefined","listLoading","listQuery","page","rows","importance","title","type","sort","selectRow","areaList","showReviewer","downloadLoading","created","getList","updateAddressList","methods","_this","then","response","setTimeout","level","parentId","_this2","$forceUpdate","updateAllArea","val","area2","area3","obj","find","o","id","setArea3","handleFilter","rowClick","row","column","event","showBillDialog","$refs","userid","userName","dialogTableVisible","$notify","message","duration","showChargeLogDialog","showChargeDialog","meterCode","code","balance"],"sources":["src/views/business/charge/chargeManager.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"filter-container\">\r\n      <div class=\"demo-input-suffix\">\r\n        <el-input\r\n          v-model=\"listQuery.name\"\r\n          placeholder=\"请输入户名\"\r\n          style=\"width: 200px;\"\r\n          class=\"filter-item\"\r\n          @keyup.enter.native=\"handleFilter\"\r\n        ></el-input>\r\n        <el-input\r\n          v-model=\"listQuery.phone\"\r\n          placeholder=\"请输入电话\"\r\n          style=\"width: 200px;margin-left: 10px;\"\r\n          class=\"filter-item\"\r\n        ></el-input>\r\n        <el-input\r\n          v-model=\"listQuery.idcard\"\r\n          placeholder=\"请输入证件号码\"\r\n          style=\"width: 200px;margin-left: 10px;\"\r\n          class=\"filter-item\"\r\n        />\r\n        <br />\r\n        <el-select\r\n          v-model=\"listQuery.area1\"\r\n          placeholder=\"请输入镇名\"\r\n          style=\"width: 200px;\"\r\n          class=\"filter-item\"\r\n          filterable\r\n          @change=\"updateAllArea($event,1)\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in areaList[0]\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.name\"\r\n          />\r\n        </el-select>\r\n        <el-select\r\n          v-model=\"listQuery.area2\"\r\n          placeholder=\"请输入村名\"\r\n          style=\"width: 200px;margin-left: 10px;\"\r\n          class=\"filter-item\"\r\n          filterable\r\n          @change=\"updateAllArea($event,2)\"\r\n        >\r\n          <el-option\r\n            v-for=\"item1 in areaList[1]\"\r\n            :key=\"item1.id\"\r\n            :label=\"item1.name\"\r\n            :value=\"item1.name\"\r\n          />\r\n        </el-select>\r\n        <el-select\r\n          v-model=\"listQuery.area3\"\r\n          placeholder=\"请输入组名\"\r\n          style=\"width: 200px;margin-left: 10px;\"\r\n          class=\"filter-item\"\r\n          filterable\r\n          @change=\"setArea3($event)\"\r\n        >\r\n          <el-option\r\n            v-for=\"item2 in areaList[2]\"\r\n            :key=\"item2.id\"\r\n            :label=\"item2.name\"\r\n            :value=\"item2.name\"\r\n          />\r\n        </el-select>\r\n        <div class=\"btn-group\">\r\n          <el-button\r\n            v-waves\r\n            class=\"filter-item\"\r\n            type=\"primary\"\r\n            icon=\"el-icon-search\"\r\n            @click=\"handleFilter\"\r\n            style=\"margin-left: 10px;\"\r\n          >查询</el-button>\r\n          <el-button\r\n            class=\"filter-item\"\r\n            style=\"margin-left: 10px;\"\r\n            type=\"success\"\r\n            icon=\"el-icon-money\"\r\n            @click=\"showChargeDialog\"\r\n          >充值</el-button>\r\n          <el-button\r\n            v-waves\r\n            :loading=\"downloadLoading\"\r\n            style=\"margin-left: 10px;\"\r\n            class=\"filter-item\"\r\n            type=\"primary\"\r\n            icon=\"el-icon-check\"\r\n          >开阀</el-button>\r\n          <el-button\r\n            v-waves\r\n            :loading=\"downloadLoading\"\r\n            style=\"margin-left: 10px;\"\r\n            class=\"filter-item\"\r\n            type=\"primary\"\r\n            icon=\"el-icon-close\"\r\n          >关阀</el-button>\r\n          <el-button\r\n            v-waves\r\n            :loading=\"downloadLoading\"\r\n            style=\"margin-left: 10px;\"\r\n            class=\"filter-item\"\r\n            type=\"warning\"\r\n            icon=\"el-icon-s-order\"\r\n            @click=\"showChargeLogDialog\"\r\n          >充值记录</el-button>\r\n          <el-button\r\n            v-waves\r\n            style=\"margin-left: 10px;\"\r\n            class=\"filter-item\"\r\n            type=\"warning\"\r\n            icon=\"el-icon-s-operation\"\r\n            @click=\"showBillDialog\"\r\n          >账单记录</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <el-table\r\n      :key=\"tableKey\"\r\n      v-loading=\"listLoading\"\r\n      :data=\"list\"\r\n      @row-click=\"rowClick\"\r\n      border\r\n      fit\r\n      highlight-current-row\r\n      style=\"width: 100%;\"\r\n    >\r\n      <el-table-column\r\n        label=\"序号\"\r\n        prop=\"id\"\r\n        sortable=\"custom\"\r\n        align=\"center\"\r\n        width=\"80\"\r\n      >\r\n        <template slot-scope=\"{row}\">\r\n          <span> {{ row.id }} </span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"户名\"  align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.userName }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"余额\"  align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.balance }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"最近缴费时间\"  align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.lastbuytime }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"最近缴费金额\"  align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.lastbuyamount }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"阀门\"  align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ findDescByValue('meterModel','valvestate',row.valvestate) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"电话\" width=\"110px\" align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.phone }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"表号\" width=\"150px\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.code }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"地址\" min-width=\"150px\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.area1 }} - {{row.area2 }} - {{ row.area3 }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"身份证号\" width=\"110px\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.idcard }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"操作\"\r\n        align=\"center\"\r\n        class-name=\"small-padding fixed-width\"\r\n        fixed=\"right\"\r\n      >\r\n        <template slot-scope=\"{row}\">\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleUpdate(row)\">编辑</el-button>\r\n          <!--           <el-button   type=\"danger\" size=\"mini\"  @click=\"handleDelete(row,$index)\">\r\n                      删除\r\n          </el-button>-->\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <pagination\r\n      v-show=\"total>0\"\r\n      :total=\"total\"\r\n      :page.sync=\"listQuery.page\"\r\n      :limit.sync=\"listQuery.rows\"\r\n      @pagination=\"getList\"\r\n    />\r\n    <billDialog ref=\"billDialog\" :userid=\"selectRow.userid\" :userName=\"selectRow.userName\" >\r\n    </billDialog>\r\n    <chargeLogDialog ref=\"chargeLogDialog\" :userid=\"selectRow.userid\" :userName=\"selectRow.userName\" >\r\n    </chargeLogDialog>\r\n    <chargeDialog ref=\"chargeDialog\" :userid=\"selectRow.userid\" :userName=\"selectRow.userName\" :meterCode=\"selectRow.code\" :balance=\"selectRow.balance\" >\r\n    </chargeDialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport { queryAddressList } from \"@/api/addressManager\";\r\nimport { queryMeterAndUserList } from \"@/api/meterManager\";\r\nimport { initAllDictionary, getDescByBeanAttrValue } from \"@/api/dictionaryManager\";\r\nimport waves from \"@/directive/waves\"; // waves directive\r\nimport { parseTime } from \"@/utils\";\r\nimport Pagination from \"@/components/Pagination\"; // secondary package based on el-pagination\r\n\r\nimport billDialog from \"./billDialog\";\r\nimport chargeLogDialog from \"./chargeLogDialog\";\r\nimport chargeDialog from \"./chargeDialog\";\r\n\r\n\r\n\r\nexport default {\r\n  name: \"chargeTable\",\r\n  components: { Pagination ,billDialog, chargeLogDialog ,chargeDialog },\r\n  directives: { waves },\r\n  filters: {\r\n  },\r\n  data() {\r\n    return {\r\n      findDescByValue : getDescByBeanAttrValue,\r\n      tableKey: 0,\r\n      list: null,\r\n      total: 0,\r\n      radioMeter : undefined,\r\n      listLoading: true,\r\n      listQuery: {\r\n        page: 1,\r\n        rows: 20,\r\n        importance: undefined,\r\n        title: undefined,\r\n        type: undefined,\r\n        sort: \"+id\"\r\n      },\r\n      selectRow:{},\r\n      areaList: [],\r\n      showReviewer: false,\r\n      downloadLoading: false\r\n    };\r\n  },\r\n\r\n  created() {\r\n    initAllDictionary();\r\n    this.getList();\r\n    this.updateAddressList(1, null);\r\n\r\n  },\r\n  methods: {\r\n    getList() {\r\n      this.listLoading = true;\r\n      queryMeterAndUserList(this.listQuery).then(response => {\r\n        this.list = response.data;\r\n        this.total = response.total;\r\n\r\n        // Just to simulate the time of the request\r\n        setTimeout(() => {\r\n          this.listLoading = false;\r\n        }, 0.5 * 1000);\r\n      });\r\n    },\r\n    updateAddressList(level, parentId) {\r\n      if (!level) {\r\n        level = 1;\r\n      }\r\n      queryAddressList({ level: level, parentId: parentId }).then(response => {\r\n        this.areaList[level - 1] = response.data;\r\n        this.$forceUpdate();\r\n      });\r\n    },\r\n    updateAllArea(val, level) {\r\n      if (level == 1) {\r\n        this.areaList[1] = {};\r\n        this.areaList[2] = {};\r\n        this.listQuery.area2 = \"\";\r\n        this.listQuery.area3 = \"\";\r\n      } else if (level == 2) {\r\n        this.areaList[2] = {};\r\n        this.listQuery.area3 = \"\";\r\n      }\r\n      var obj = this.areaList[level - 1].find(o => o.name === val);\r\n\r\n      this.updateAddressList(level + 1, obj.id);\r\n    },\r\n    setArea3(val) {\r\n      this.listQuery.area3 = val;\r\n      this.$forceUpdate();\r\n    },\r\n    handleFilter() {\r\n      this.listQuery.page = 1;\r\n      this.getList();\r\n    },\r\n    rowClick(\trow, column, event){\r\n      this.selectRow = row;\r\n    },\r\n    showBillDialog() {\r\n      if(this.$refs.billDialog.userid){\r\n        this.$refs.billDialog.userName = this.selectRow.userName +'的月账单';\r\n        this.$refs.billDialog.dialogTableVisible = true;\r\n      }else{\r\n        this.$notify({\r\n          title: \"请先选择用户\",\r\n          message: \"请先选择用户，再查询账单\",\r\n          type: \"error\",\r\n          duration: 2000\r\n        });\r\n      }\r\n    },\r\n    showChargeLogDialog() {\r\n      if(this.$refs.chargeLogDialog.userid){\r\n        this.$refs.chargeLogDialog.userName = this.selectRow.userName +'的充值记录';\r\n        this.$refs.chargeLogDialog.dialogTableVisible = true;\r\n      }else{\r\n        this.$notify({\r\n          title: \"请先选择用户\",\r\n          message: \"请先选择用户，再查询充值记录\",\r\n          type: \"error\",\r\n          duration: 2000\r\n        });\r\n      }\r\n    },\r\n    showChargeDialog() {\r\n      if(this.$refs.chargeDialog.userid){\r\n        this.$refs.chargeDialog.userName = this.selectRow.userName ;\r\n        this.$refs.chargeDialog.meterCode = this.selectRow.code ;\r\n        this.$refs.chargeDialog.balance = this.selectRow.balance ;\r\n        \r\n        this.$refs.chargeDialog.dialogTableVisible = true;\r\n      }else{\r\n        this.$notify({\r\n          title: \"请先选择用户\",\r\n          message: \"请先选择用户，再点击充值\",\r\n          type: \"error\",\r\n          duration: 2000\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":"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"}]}