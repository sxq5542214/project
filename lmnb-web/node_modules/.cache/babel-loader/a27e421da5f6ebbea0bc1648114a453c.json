{"remainingRequest":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\babel-loader\\lib\\index.js!G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\vs_workspace\\git_sxq\\lmnb-web\\src\\views\\business\\record\\recordManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\src\\views\\business\\record\\recordManager.vue","mtime":1697634607406},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\babel.config.js","mtime":1697545098144},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686317881343},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1686317882159},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686317881343},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1686317877157}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBxdWVyeVJlY29yZExpc3QgfSBmcm9tICdAL2FwaS9yZWNvcmRNYW5hZ2VyJzsKaW1wb3J0IHdhdmVzIGZyb20gJ0AvZGlyZWN0aXZlL3dhdmVzJzsgLy8gd2F2ZXMgZGlyZWN0aXZlCmltcG9ydCB7IHBhcnNlVGltZSB9IGZyb20gJ0AvdXRpbHMnOwppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUGFnaW5hdGlvbic7IC8vIHNlY29uZGFyeSBwYWNrYWdlIGJhc2VkIG9uIGVsLXBhZ2luYXRpb24KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVjb3JkVGFibGUnLAogIGNvbXBvbmVudHM6IHsKICAgIFBhZ2luYXRpb246IFBhZ2luYXRpb24KICB9LAogIGRpcmVjdGl2ZXM6IHsKICAgIHdhdmVzOiB3YXZlcwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlS2V5OiAwLAogICAgICBsaXN0OiBudWxsLAogICAgICB0b3RhbDogMCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGxpc3RRdWVyeTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgcm93czogMjAsCiAgICAgICAgaW1wb3J0YW5jZTogdW5kZWZpbmVkLAogICAgICAgIHRpdGxlOiB1bmRlZmluZWQsCiAgICAgICAgdHlwZTogdW5kZWZpbmVkLAogICAgICAgIHNvcnQ6ICcraWQnCiAgICAgIH0sCiAgICAgIHNob3dSZXZpZXdlcjogZmFsc2UsCiAgICAgIGRvd25sb2FkTG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgcXVlcnlSZWNvcmRMaXN0KHRoaXMubGlzdFF1ZXJ5KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CgogICAgICAgIC8vIEp1c3QgdG8gc2ltdWxhdGUgdGhlIHRpbWUgb2YgdGhlIHJlcXVlc3QKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSwgMC41ICogMTAwMCk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgZm9ybWF0SnNvbjogZnVuY3Rpb24gZm9ybWF0SnNvbihmaWx0ZXJWYWwpIHsKICAgICAgcmV0dXJuIHRoaXMubGlzdC5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gZmlsdGVyVmFsLm1hcChmdW5jdGlvbiAoaikgewogICAgICAgICAgaWYgKGogPT09ICd0aW1lc3RhbXAnKSB7CiAgICAgICAgICAgIHJldHVybiBwYXJzZVRpbWUodltqXSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdltqXTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0U29ydENsYXNzOiBmdW5jdGlvbiBnZXRTb3J0Q2xhc3Moa2V5KSB7CiAgICAgIHZhciBzb3J0ID0gdGhpcy5saXN0UXVlcnkuc29ydDsKICAgICAgcmV0dXJuIHNvcnQgPT09ICIrIi5jb25jYXQoa2V5KSA/ICdhc2NlbmRpbmcnIDogJ2Rlc2NlbmRpbmcnOwogICAgfQogIH0KfTs="},{"version":3,"names":["queryRecordList","waves","parseTime","Pagination","name","components","directives","data","tableKey","list","total","listLoading","listQuery","page","rows","importance","undefined","title","type","sort","showReviewer","downloadLoading","created","getList","methods","_this","then","response","setTimeout","handleClick","formatJson","filterVal","map","v","j","getSortClass","key","concat"],"sources":["src/views/business/record/recordManager.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"filter-container\">\r\n      <div class=\"demo-input-suffix\">\r\n        <el-input\r\n          v-model=\"listQuery.username\"\r\n          placeholder=\"请输入用户名\"\r\n          style=\"width: 200px;\"\r\n          class=\"filter-item\"\r\n          @keyup.enter.native=\"handleFilter\"\r\n        />\r\n        <el-input\r\n          v-model=\"listQuery.billmonth\"\r\n          placeholder=\"请输入账单年月\"\r\n          style=\"width: 200px;margin-left: 10px;\"\r\n          class=\"filter-item\"\r\n        />\r\n        <el-input\r\n          v-model=\"listQuery.pricename\"\r\n          placeholder=\"请输入水价名称\"\r\n          style=\"width: 200px;margin-left: 10px;\"\r\n          class=\"filter-item\"\r\n        />\r\n        <el-button\r\n          v-waves\r\n          class=\"filter-item\"\r\n          type=\"primary\"\r\n          icon=\"el-icon-search\"\r\n          style=\"margin-left: 10px;\"\r\n          @click=\"handleClick\"\r\n        >查询</el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <el-table :key=\"tableKey\"\r\n              v-loading=\"listLoading\"\r\n              :data=\"list\"\r\n              border\r\n              fit\r\n              highlight-current-row\r\n              style=\"width: 100%;\">\r\n      <el-table-column label=\"序号\"\r\n                       prop=\"id\"\r\n                       align=\"center\"\r\n                       width=\"80\"\r\n                       :class-name=\"getSortClass('id')\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.id }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"用户名\" align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.username }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"表号\" align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.metercode }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"账单年月\" width=\"100\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.billmonth }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"抄表时间\"  align=\"center\" >\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.curtime }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"本次读数\"  width=\"100\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.curnum }}</span> \r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"本次用量\" width=\"100\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.curquantity }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"上次读数\" width=\"100\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.lastnum }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"价格类型\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.pricename }}</span>\r\n        </template>\r\n      </el-table-column>\r\n\r\n\r\n      <!--      <el-table-column label=\"操作\"\r\n                   align=\"center\"\r\n                   class-name=\"small-padding fixed-width\"\r\n                   fixed=\"right\">\r\n    <template slot-scope=\"{row}\">\r\n      <el-button type=\"primary\" size=\"mini\" @click=\"handleClick(row)\">查看</el-button>\r\n    </template>\r\n  </el-table-column>-->\r\n    </el-table> \r\n\r\n    <pagination \r\n      v-show=\"total>0\"\r\n      :total=\"total\"\r\n      :page.sync=\"listQuery.page\"\r\n      :limit.sync=\"listQuery.rows\"\r\n      @pagination=\"getList\"\r\n    />\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { queryRecordList } from '@/api/recordManager'\r\nimport waves from '@/directive/waves' // waves directive\r\nimport { parseTime } from '@/utils'\r\nimport Pagination from '@/components/Pagination' // secondary package based on el-pagination\r\n\r\nexport default {\r\n  name: 'RecordTable',\r\n  components: { Pagination },\r\n  directives: { waves },\r\n  data() {\r\n    return {\r\n      tableKey: 0,\r\n      list: null,\r\n      total: 0,\r\n      listLoading: true,\r\n      listQuery: {\r\n        page: 1,\r\n        rows: 20,\r\n        importance: undefined,\r\n        title: undefined,\r\n        type: undefined,\r\n        sort: '+id'\r\n      },\r\n      showReviewer: false,\r\n      downloadLoading: false\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.getList()\n  },\r\n    methods: {\r\n      getList() {\r\n        this.listLoading = true\r\n        queryRecordList(this.listQuery).then(response => {\r\n          this.list = response.data\r\n          this.total = response.total\r\n\r\n          // Just to simulate the time of the request\r\n          setTimeout(() => {\r\n            this.listLoading = false\r\n          }, 0.5 * 1000)\r\n        })\r\n      },\r\n    handleClick() {\r\n      this.getList(); \r\n    },\r\n\r\n    formatJson(filterVal) {\r\n      return this.list.map(v =>\r\n        filterVal.map(j => {\r\n          if (j === 'timestamp') {\r\n            return parseTime(v[j])\r\n          } else {\r\n            return v[j]\r\n          }\r\n        })\r\n      )\r\n    },\r\n    getSortClass: function(key) {\r\n      const sort = this.listQuery.sort\r\n      return sort === `+${key}` ? 'ascending' : 'descending'\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA,SAAAA,eAAA;AACA,OAAAC,KAAA;AACA,SAAAC,SAAA;AACA,OAAAC,UAAA;;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF,UAAA,EAAAA;EAAA;EACAG,UAAA;IAAAL,KAAA,EAAAA;EAAA;EACAM,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MACAC,IAAA;MACAC,KAAA;MACAC,WAAA;MACAC,SAAA;QACAC,IAAA;QACAC,IAAA;QACAC,UAAA,EAAAC,SAAA;QACAC,KAAA,EAAAD,SAAA;QACAE,IAAA,EAAAF,SAAA;QACAG,IAAA;MACA;MACAC,YAAA;MACAC,eAAA;IACA;EACA;EAEAC,OAAA,WAAAA,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,OAAA;IACAD,OAAA,WAAAA,QAAA;MAAA,IAAAE,KAAA;MACA,KAAAd,WAAA;MACAX,eAAA,MAAAY,SAAA,EAAAc,IAAA,WAAAC,QAAA;QACAF,KAAA,CAAAhB,IAAA,GAAAkB,QAAA,CAAApB,IAAA;QACAkB,KAAA,CAAAf,KAAA,GAAAiB,QAAA,CAAAjB,KAAA;;QAEA;QACAkB,UAAA;UACAH,KAAA,CAAAd,WAAA;QACA;MACA;IACA;IACAkB,WAAA,WAAAA,YAAA;MACA,KAAAN,OAAA;IACA;IAEAO,UAAA,WAAAA,WAAAC,SAAA;MACA,YAAAtB,IAAA,CAAAuB,GAAA,WAAAC,CAAA;QAAA,OACAF,SAAA,CAAAC,GAAA,WAAAE,CAAA;UACA,IAAAA,CAAA;YACA,OAAAhC,SAAA,CAAA+B,CAAA,CAAAC,CAAA;UACA;YACA,OAAAD,CAAA,CAAAC,CAAA;UACA;QACA;MAAA,CACA;IACA;IACAC,YAAA,WAAAA,aAAAC,GAAA;MACA,IAAAjB,IAAA,QAAAP,SAAA,CAAAO,IAAA;MACA,OAAAA,IAAA,SAAAkB,MAAA,CAAAD,GAAA;IACA;EACA;AACA"}]}