{"remainingRequest":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\babel-loader\\lib\\index.js!G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\vs_workspace\\git_sxq\\lmnb-web\\src\\views\\business\\charge\\chargeManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\src\\views\\business\\charge\\chargeManager.vue","mtime":1697870999475},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\babel.config.js","mtime":1697545098144},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686317881343},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1686317882159},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686317881343},{"path":"G:\\vs_workspace\\git_sxq\\lmnb-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1686317877157}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHF1ZXJ5QWRkcmVzc0xpc3QgfSBmcm9tICdAL2FwaS9hZGRyZXNzTWFuYWdlcic7CmltcG9ydCB7IHF1ZXJ5TWV0ZXJBbmRVc2VyTGlzdCwgb3BlblZhbHZlQnlDb2RlLCBjbG9zZVZhbHZlQnlDb2RlIH0gZnJvbSAnQC9hcGkvbWV0ZXJNYW5hZ2VyJzsKaW1wb3J0IHsgaW5pdEFsbERpY3Rpb25hcnksIGdldERlc2NCeUJlYW5BdHRyVmFsdWUgfSBmcm9tICdAL2FwaS9kaWN0aW9uYXJ5TWFuYWdlcic7CmltcG9ydCB3YXZlcyBmcm9tICdAL2RpcmVjdGl2ZS93YXZlcyc7IC8vIHdhdmVzIGRpcmVjdGl2ZQppbXBvcnQgeyBwYXJzZVRpbWUgfSBmcm9tICdAL3V0aWxzJzsKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnQC9jb21wb25lbnRzL1BhZ2luYXRpb24nOyAvLyBzZWNvbmRhcnkgcGFja2FnZSBiYXNlZCBvbiBlbC1wYWdpbmF0aW9uCgppbXBvcnQgYmlsbERpYWxvZyBmcm9tICcuL2JpbGxEaWFsb2cnOwppbXBvcnQgY2hhcmdlTG9nRGlhbG9nIGZyb20gJy4vY2hhcmdlTG9nRGlhbG9nJzsKaW1wb3J0IGNoYXJnZURpYWxvZyBmcm9tICcuL2NoYXJnZURpYWxvZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2hhcmdlVGFibGUnLAogIGNvbXBvbmVudHM6IHsKICAgIFBhZ2luYXRpb246IFBhZ2luYXRpb24sCiAgICBiaWxsRGlhbG9nOiBiaWxsRGlhbG9nLAogICAgY2hhcmdlTG9nRGlhbG9nOiBjaGFyZ2VMb2dEaWFsb2csCiAgICBjaGFyZ2VEaWFsb2c6IGNoYXJnZURpYWxvZwogIH0sCiAgZGlyZWN0aXZlczogewogICAgd2F2ZXM6IHdhdmVzCiAgfSwKICBmaWx0ZXJzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmluZERlc2NCeVZhbHVlOiBnZXREZXNjQnlCZWFuQXR0clZhbHVlLAogICAgICB0YWJsZUtleTogMCwKICAgICAgbGlzdDogbnVsbCwKICAgICAgdG90YWw6IDAsCiAgICAgIHJhZGlvTWV0ZXI6IHVuZGVmaW5lZCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGxpc3RRdWVyeTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgcm93czogMjAsCiAgICAgICAgaW1wb3J0YW5jZTogdW5kZWZpbmVkLAogICAgICAgIHRpdGxlOiB1bmRlZmluZWQsCiAgICAgICAgdHlwZTogdW5kZWZpbmVkLAogICAgICAgIHNvcnQ6ICcraWQnCiAgICAgIH0sCiAgICAgIHNlbGVjdFJvdzoge30sCiAgICAgIGFyZWFMaXN0OiBbXSwKICAgICAgc2hvd1Jldmlld2VyOiBmYWxzZSwKICAgICAgZG93bmxvYWRMb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpbml0QWxsRGljdGlvbmFyeSgpOwogICAgdGhpcy5nZXRMaXN0KCk7CiAgICB0aGlzLnVwZGF0ZUFkZHJlc3NMaXN0KDEsIG51bGwpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWU7CiAgICAgIHF1ZXJ5TWV0ZXJBbmRVc2VyTGlzdCh0aGlzLmxpc3RRdWVyeSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwoKICAgICAgICAvLyBKdXN0IHRvIHNpbXVsYXRlIHRoZSB0aW1lIG9mIHRoZSByZXF1ZXN0CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0sIDAuNSAqIDEwMDApOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVBZGRyZXNzTGlzdDogZnVuY3Rpb24gdXBkYXRlQWRkcmVzc0xpc3QobGV2ZWwsIHBhcmVudElkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBpZiAoIWxldmVsKSB7CiAgICAgICAgbGV2ZWwgPSAxOwogICAgICB9CiAgICAgIHF1ZXJ5QWRkcmVzc0xpc3QoewogICAgICAgIGxldmVsOiBsZXZlbCwKICAgICAgICBwYXJlbnRJZDogcGFyZW50SWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuYXJlYUxpc3RbbGV2ZWwgLSAxXSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMyLiRmb3JjZVVwZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVBbGxBcmVhOiBmdW5jdGlvbiB1cGRhdGVBbGxBcmVhKHZhbCwgbGV2ZWwpIHsKICAgICAgaWYgKGxldmVsID09IDEpIHsKICAgICAgICB0aGlzLmFyZWFMaXN0WzFdID0ge307CiAgICAgICAgdGhpcy5hcmVhTGlzdFsyXSA9IHt9OwogICAgICAgIHRoaXMubGlzdFF1ZXJ5LmFyZWEyID0gJyc7CiAgICAgICAgdGhpcy5saXN0UXVlcnkuYXJlYTMgPSAnJzsKICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PSAyKSB7CiAgICAgICAgdGhpcy5hcmVhTGlzdFsyXSA9IHt9OwogICAgICAgIHRoaXMubGlzdFF1ZXJ5LmFyZWEzID0gJyc7CiAgICAgIH0KICAgICAgdmFyIG9iaiA9IHRoaXMuYXJlYUxpc3RbbGV2ZWwgLSAxXS5maW5kKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgcmV0dXJuIG8ubmFtZSA9PT0gdmFsOwogICAgICB9KTsKICAgICAgdGhpcy51cGRhdGVBZGRyZXNzTGlzdChsZXZlbCArIDEsIG9iai5pZCk7CiAgICB9LAogICAgc2V0QXJlYTM6IGZ1bmN0aW9uIHNldEFyZWEzKHZhbCkgewogICAgICB0aGlzLmxpc3RRdWVyeS5hcmVhMyA9IHZhbDsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgIH0sCiAgICBoYW5kbGVGaWx0ZXI6IGZ1bmN0aW9uIGhhbmRsZUZpbHRlcigpIHsKICAgICAgdGhpcy5saXN0UXVlcnkucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHJvd0NsaWNrOiBmdW5jdGlvbiByb3dDbGljayhyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgdGhpcy5zZWxlY3RSb3cgPSByb3c7CiAgICB9LAogICAgc2hvd0JpbGxEaWFsb2c6IGZ1bmN0aW9uIHNob3dCaWxsRGlhbG9nKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5iaWxsRGlhbG9nLnVzZXJpZCkgewogICAgICAgIHRoaXMuJHJlZnMuYmlsbERpYWxvZy51c2VyTmFtZSA9IHRoaXMuc2VsZWN0Um93LnVzZXJOYW1lICsgJ+eahOaciOi0puWNlSc7CiAgICAgICAgdGhpcy4kcmVmcy5iaWxsRGlhbG9nLmRpYWxvZ1RhYmxlVmlzaWJsZSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiAn6K+35YWI6YCJ5oup55So5oi3JywKICAgICAgICAgIG1lc3NhZ2U6ICfor7flhYjpgInmi6nnlKjmiLfvvIzlho3mn6Xor6LotKbljZUnLAogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzaG93Q2hhcmdlTG9nRGlhbG9nOiBmdW5jdGlvbiBzaG93Q2hhcmdlTG9nRGlhbG9nKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5jaGFyZ2VMb2dEaWFsb2cudXNlcmlkKSB7CiAgICAgICAgdGhpcy4kcmVmcy5jaGFyZ2VMb2dEaWFsb2cudXNlck5hbWUgPSB0aGlzLnNlbGVjdFJvdy51c2VyTmFtZSArICfnmoTlhYXlgLzorrDlvZUnOwogICAgICAgIHRoaXMuJHJlZnMuY2hhcmdlTG9nRGlhbG9nLmRpYWxvZ1RhYmxlVmlzaWJsZSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiAn6K+35YWI6YCJ5oup55So5oi3JywKICAgICAgICAgIG1lc3NhZ2U6ICfor7flhYjpgInmi6nnlKjmiLfvvIzlho3mn6Xor6LlhYXlgLzorrDlvZUnLAogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzaG93Q2hhcmdlRGlhbG9nOiBmdW5jdGlvbiBzaG93Q2hhcmdlRGlhbG9nKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5jaGFyZ2VEaWFsb2cudXNlcmlkKSB7CiAgICAgICAgdGhpcy4kcmVmcy5jaGFyZ2VEaWFsb2cudXNlck5hbWUgPSB0aGlzLnNlbGVjdFJvdy51c2VyTmFtZTsKICAgICAgICB0aGlzLiRyZWZzLmNoYXJnZURpYWxvZy5tZXRlckNvZGUgPSB0aGlzLnNlbGVjdFJvdy5jb2RlOwogICAgICAgIHRoaXMuJHJlZnMuY2hhcmdlRGlhbG9nLmJhbGFuY2UgPSB0aGlzLnNlbGVjdFJvdy5iYWxhbmNlOwogICAgICAgIHRoaXMuJHJlZnMuY2hhcmdlRGlhbG9nLmRpYWxvZ1RhYmxlVmlzaWJsZSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiAn6K+35YWI6YCJ5oup55So5oi3JywKICAgICAgICAgIG1lc3NhZ2U6ICfor7flhYjpgInmi6nnlKjmiLfvvIzlho3ngrnlh7vlhYXlgLwnLAogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvcGVuVmFsdmU6IGZ1bmN0aW9uIG9wZW5WYWx2ZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIGlmICh0aGlzLnNlbGVjdFJvdy5jb2RlKSB7CiAgICAgICAgb3BlblZhbHZlQnlDb2RlKHsKICAgICAgICAgIGNvZGU6IHRoaXMuc2VsZWN0Um93LmNvZGUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMzLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ+aTjeS9nOe7k+aenCcsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY2xvc2VWYWx2ZTogZnVuY3Rpb24gY2xvc2VWYWx2ZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIGlmICh0aGlzLnNlbGVjdFJvdy5jb2RlKSB7CiAgICAgICAgY2xvc2VWYWx2ZUJ5Q29kZSh7CiAgICAgICAgICBjb2RlOiB0aGlzLnNlbGVjdFJvdy5jb2RlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzNC4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICfmk43kvZznu5PmnpwnLAogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["queryAddressList","queryMeterAndUserList","openValveByCode","closeValveByCode","initAllDictionary","getDescByBeanAttrValue","waves","parseTime","Pagination","billDialog","chargeLogDialog","chargeDialog","name","components","directives","filters","data","findDescByValue","tableKey","list","total","radioMeter","undefined","listLoading","listQuery","page","rows","importance","title","type","sort","selectRow","areaList","showReviewer","downloadLoading","created","getList","updateAddressList","methods","_this","then","response","setTimeout","level","parentId","_this2","$forceUpdate","updateAllArea","val","area2","area3","obj","find","o","id","setArea3","handleFilter","rowClick","row","column","event","showBillDialog","$refs","userid","userName","dialogTableVisible","$notify","message","duration","showChargeLogDialog","showChargeDialog","meterCode","code","balance","openValve","_this3","closeValve","_this4"],"sources":["src/views/business/charge/chargeManager.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"filter-container\">\r\n      <div class=\"demo-input-suffix\">\r\n        <el-input\r\n          v-model=\"listQuery.userName\"\r\n          placeholder=\"请输入户名\"\r\n          style=\"width: 200px;\"\r\n          class=\"filter-item\"\r\n          @keyup.enter.native=\"handleFilter\"\r\n        />\r\n        <el-input\r\n          v-model=\"listQuery.phone\"\r\n          placeholder=\"请输入电话\"\r\n          style=\"width: 200px;margin-left: 10px;\"\r\n          class=\"filter-item\"\r\n        />\r\n        <el-input\r\n          v-model=\"listQuery.idcard\"\r\n          placeholder=\"请输入证件号码\"\r\n          style=\"width: 200px;margin-left: 10px;\"\r\n          class=\"filter-item\"\r\n        />\r\n        <br>\r\n        <el-select\r\n          v-model=\"listQuery.area1\"\r\n          placeholder=\"请输入镇名\"\r\n          style=\"width: 200px;\"\r\n          class=\"filter-item\"\r\n          filterable\r\n          @change=\"updateAllArea($event,1)\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in areaList[0]\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.name\"\r\n          />\r\n        </el-select>\r\n        <el-select\r\n          v-model=\"listQuery.area2\"\r\n          placeholder=\"请输入村名\"\r\n          style=\"width: 200px;margin-left: 10px;\"\r\n          class=\"filter-item\"\r\n          filterable\r\n          @change=\"updateAllArea($event,2)\"\r\n        >\r\n          <el-option\r\n            v-for=\"item1 in areaList[1]\"\r\n            :key=\"item1.id\"\r\n            :label=\"item1.name\"\r\n            :value=\"item1.name\"\r\n          />\r\n        </el-select>\r\n        <el-select\r\n          v-model=\"listQuery.area3\"\r\n          placeholder=\"请输入组名\"\r\n          style=\"width: 200px;margin-left: 10px;\"\r\n          class=\"filter-item\"\r\n          filterable\r\n          @change=\"setArea3($event)\"\r\n        >\r\n          <el-option\r\n            v-for=\"item2 in areaList[2]\"\r\n            :key=\"item2.id\"\r\n            :label=\"item2.name\"\r\n            :value=\"item2.name\"\r\n          />\r\n        </el-select>\r\n        <div class=\"btn-group\">\r\n          <el-button\r\n            v-waves\r\n            class=\"filter-item\"\r\n            type=\"primary\"\r\n            icon=\"el-icon-search\"\r\n            style=\"margin-left: 10px;\"\r\n            @click=\"handleFilter\"\r\n          >查询</el-button>\r\n          <el-button\r\n            class=\"filter-item\"\r\n            style=\"margin-left: 10px;\"\r\n            type=\"success\"\r\n            icon=\"el-icon-money\"\r\n            @click=\"showChargeDialog\"\r\n          >充值</el-button>\r\n          <el-button\r\n            v-waves\r\n            :loading=\"downloadLoading\"\r\n            style=\"margin-left: 10px;\"\r\n            class=\"filter-item\"\r\n            type=\"primary\"\r\n            icon=\"el-icon-check\"\r\n            @click=\"openValve\"\r\n          >开阀</el-button>\r\n          <el-button\r\n            v-waves\r\n            :loading=\"downloadLoading\"\r\n            style=\"margin-left: 10px;\"\r\n            class=\"filter-item\"\r\n            type=\"primary\"\r\n            icon=\"el-icon-close\"\r\n            @click=\"closeValve\"\r\n          >关阀</el-button>\r\n          <el-button\r\n            v-waves\r\n            :loading=\"downloadLoading\"\r\n            style=\"margin-left: 10px;\"\r\n            class=\"filter-item\"\r\n            type=\"warning\"\r\n            icon=\"el-icon-s-order\"\r\n            @click=\"showChargeLogDialog\"\r\n          >充值记录</el-button>\r\n          <el-button\r\n            v-waves\r\n            style=\"margin-left: 10px;\"\r\n            class=\"filter-item\"\r\n            type=\"warning\"\r\n            icon=\"el-icon-s-operation\"\r\n            @click=\"showBillDialog\"\r\n          >账单记录</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <el-table\r\n      :key=\"tableKey\"\r\n      v-loading=\"listLoading\"\r\n      :data=\"list\"\r\n      border\r\n      fit\r\n      highlight-current-row\r\n      style=\"width: 100%;\"\r\n      @row-click=\"rowClick\"\r\n    >\r\n      <el-table-column\r\n        label=\"水表ID\"\r\n        prop=\"id\"\r\n        sortable=\"custom\"\r\n        align=\"center\"\r\n        width=\"80\"\r\n      >\r\n        <template slot-scope=\"{row}\">\r\n          <span> {{ row.id }} </span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"户名\" align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.userName }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"余额\" align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.balance }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"最近缴费时间\" align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.lastbuytime }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"最近缴费金额\" align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.lastbuyamount }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"阀门\" align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ findDescByValue('meterModel','valvestate',row.valvestate) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"电话\" width=\"110px\" align=\"center\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.phone }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"表号\" width=\"150px\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.code }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"地址\" min-width=\"150px\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.area1 }} - {{ row.area2 }} - {{ row.area3 }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"身份证号\" width=\"110px\" align=\"center\" :show-overflow-tooltip=\"true\">\r\n        <template slot-scope=\"{row}\">\r\n          <span>{{ row.idcard }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"操作\"\r\n        align=\"center\"\r\n        class-name=\"small-padding fixed-width\"\r\n        fixed=\"right\"\r\n      >\r\n        <template slot-scope=\"{row}\">\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleUpdate(row)\">编辑</el-button>\r\n          <!--           <el-button   type=\"danger\" size=\"mini\"  @click=\"handleDelete(row,$index)\">\r\n                      删除\r\n          </el-button>-->\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <pagination\r\n      v-show=\"total>0\"\r\n      :total=\"total\"\r\n      :page.sync=\"listQuery.page\"\r\n      :limit.sync=\"listQuery.rows\"\r\n      @pagination=\"getList\"\r\n    />\r\n    <billDialog ref=\"billDialog\" :userid=\"selectRow.userid\" :user-name=\"selectRow.userName\" :meter-code=\"selectRow.code\" />\r\n    <chargeLogDialog ref=\"chargeLogDialog\" :userid=\"selectRow.userid\" :user-name=\"selectRow.userName\" :meter-code=\"selectRow.code\" />\r\n    <chargeDialog ref=\"chargeDialog\" :userid=\"selectRow.userid\" :user-name=\"selectRow.userName\" :meter-code=\"selectRow.code\" :balance=\"selectRow.balance\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { queryAddressList } from '@/api/addressManager'\r\nimport { queryMeterAndUserList, openValveByCode, closeValveByCode } from '@/api/meterManager'\r\nimport { initAllDictionary, getDescByBeanAttrValue } from '@/api/dictionaryManager'\r\nimport waves from '@/directive/waves' // waves directive\r\nimport { parseTime } from '@/utils'\r\nimport Pagination from '@/components/Pagination' // secondary package based on el-pagination\r\n\r\nimport billDialog from './billDialog'\r\nimport chargeLogDialog from './chargeLogDialog'\r\nimport chargeDialog from './chargeDialog'\r\n\r\nexport default {\r\n  name: 'ChargeTable',\r\n  components: { Pagination, billDialog, chargeLogDialog, chargeDialog },\r\n  directives: { waves },\r\n  filters: {\r\n  },\r\n  data() {\r\n    return {\r\n      findDescByValue: getDescByBeanAttrValue,\r\n      tableKey: 0,\r\n      list: null,\r\n      total: 0,\r\n      radioMeter: undefined,\r\n      listLoading: true,\r\n      listQuery: {\r\n        page: 1,\r\n        rows: 20,\r\n        importance: undefined,\r\n        title: undefined,\r\n        type: undefined,\r\n        sort: '+id'\r\n      },\r\n      selectRow: {},\r\n      areaList: [],\r\n      showReviewer: false,\r\n      downloadLoading: false\r\n    }\r\n  },\r\n\r\n  created() {\r\n    initAllDictionary()\r\n    this.getList()\r\n    this.updateAddressList(1, null)\n  },\r\n  methods: {\r\n    getList() {\r\n      this.listLoading = true\r\n      queryMeterAndUserList(this.listQuery).then(response => {\r\n        this.list = response.data\r\n        this.total = response.total\r\n\r\n        // Just to simulate the time of the request\r\n        setTimeout(() => {\r\n          this.listLoading = false\r\n        }, 0.5 * 1000)\r\n      })\r\n    },\r\n    updateAddressList(level, parentId) {\r\n      if (!level) {\r\n        level = 1\r\n      }\r\n      queryAddressList({ level: level, parentId: parentId }).then(response => {\r\n        this.areaList[level - 1] = response.data\r\n        this.$forceUpdate()\r\n      })\r\n    },\r\n    updateAllArea(val, level) {\r\n      if (level == 1) {\r\n        this.areaList[1] = {}\r\n        this.areaList[2] = {}\r\n        this.listQuery.area2 = ''\r\n        this.listQuery.area3 = ''\r\n      } else if (level == 2) {\r\n        this.areaList[2] = {}\r\n        this.listQuery.area3 = ''\r\n      }\r\n      var obj = this.areaList[level - 1].find(o => o.name === val)\r\n\r\n      this.updateAddressList(level + 1, obj.id)\r\n    },\r\n    setArea3(val) {\r\n      this.listQuery.area3 = val\r\n      this.$forceUpdate()\r\n    },\r\n    handleFilter() {\r\n      this.listQuery.page = 1\r\n      this.getList()\r\n    },\r\n    rowClick(row, column, event) {\r\n      this.selectRow = row\r\n    },\r\n    showBillDialog() {\r\n      if (this.$refs.billDialog.userid) {\r\n        this.$refs.billDialog.userName = this.selectRow.userName + '的月账单'\r\n        this.$refs.billDialog.dialogTableVisible = true\r\n      } else {\r\n        this.$notify({\r\n          title: '请先选择用户',\r\n          message: '请先选择用户，再查询账单',\r\n          type: 'error',\r\n          duration: 2000\r\n        })\r\n      }\r\n    },\r\n    showChargeLogDialog() {\r\n      if (this.$refs.chargeLogDialog.userid) {\r\n        this.$refs.chargeLogDialog.userName = this.selectRow.userName + '的充值记录'\r\n        this.$refs.chargeLogDialog.dialogTableVisible = true\r\n      } else {\r\n        this.$notify({\r\n          title: '请先选择用户',\r\n          message: '请先选择用户，再查询充值记录',\r\n          type: 'error',\r\n          duration: 2000\r\n        })\r\n      }\r\n    },\r\n    showChargeDialog() {\r\n      if (this.$refs.chargeDialog.userid) {\r\n        this.$refs.chargeDialog.userName = this.selectRow.userName\r\n        this.$refs.chargeDialog.meterCode = this.selectRow.code\r\n        this.$refs.chargeDialog.balance = this.selectRow.balance\r\n\r\n        this.$refs.chargeDialog.dialogTableVisible = true\r\n      } else {\r\n        this.$notify({\r\n          title: '请先选择用户',\r\n          message: '请先选择用户，再点击充值',\r\n          type: 'error',\r\n          duration: 2000\r\n        })\r\n      }\r\n    },\r\n    openValve() {\r\n      if (this.selectRow.code) {\n        openValveByCode({ code: this.selectRow.code }).then(response => {\r\n          this.$notify({\r\n            title: '操作结果',\r\n            message: response.message,\r\n            type: 'success',\r\n            duration: 2000\r\n          })\r\n        })\r\n      }\r\n    },\r\n    closeValve() {\r\n      if (this.selectRow.code) {\r\n        closeValveByCode({ code: this.selectRow.code }).then(response => {\r\n          this.$notify({\r\n            title: '操作结果',\r\n            message: response.message,\r\n            type: 'success',\r\n            duration: 2000\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"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"}]}