(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a02db9dc"],{"7ee3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{border:"1px solid #eee","margin-left":"10px","margin-right":"10px"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("地址列表")])]),a("div",{staticClass:"tab-container"},[a("el-tree",{ref:"tree",attrs:{"node-key":"id",props:e.props,load:e.loadNode,lazy:"","highlight-current":"","render-content":e.renderNextButton},on:{"check-change":e.handleCheckChange}})],1)]),a("el-container",{staticStyle:{"margin-left":"10px","margin-right":"10px"}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"90%"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.headerLabel))])]),a("div",{staticClass:"tab-container"},[a("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.address,"label-position":"left"}},[a("el-form-item",{attrs:{label:"上级地址",prop:"parentName"}},[a("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.address.parentName,callback:function(t){e.$set(e.address,"parentName",t)},expression:"address.parentName"}})],1),a("el-form-item",{attrs:{label:"地址名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入地址名称"},model:{value:e.address.name,callback:function(t){e.$set(e.address,"name",t)},expression:"address.name"}})],1),a("el-form-item",{attrs:{label:"地址级别",prop:"level"}},[a("el-input",{attrs:{placeholder:"最上级",disabled:""},model:{value:e.address.level,callback:function(t){e.$set(e.address,"level",t)},expression:"address.level"}})],1),a("el-button",{ref:"submitBTN",attrs:{type:e.buttonType},on:{click:e.submitAddress}},[e._v(e._s(e.headerLabel))]),a("el-button",{ref:"deleteBTN",attrs:{type:"danger"},on:{click:e.deleteAddress}},[e._v("删除地址")])],1)],1)])],1)],1)},r=[],d=(a("b0c0"),a("e9e6")),n={data:function(){return{headerLabel:"添加地址",buttonType:"primary",addressList:{},address:{parentName:"",parentId:void 0,name:"",level:void 0,id:void 0},props:{label:"name",children:"zones"},rules:{name:[{required:!0,message:"请填写地址名称",trigger:"change"}]}}},created:function(){},methods:{handleCheckChange:function(e,t,a){console.log(e,t,a)},handleNodeClick:function(e,t){this.headerLabel="修改地址",this.buttonType="success",this.address.name=e.name,this.address.level=e.level,this.address.id=e.id,this.address.parentId=e.parentId;var a=t.parent.data;a&&(this.address.parentName=a.name)},handleAddNext:function(e,t){this.headerLabel="添加地址",this.buttonType="primary",this.address.name="",this.address.level=e.level+1,this.address.id=void 0,this.address.parentId=e.id,this.address.parentName=e.name},submitAddress:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var a=e.$refs.tree.getCurrentNode();e.address.id?Object(d["d"])(e.address).then((function(t){a.data=e.address,a.name=e.address.name,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})):Object(d["a"])(e.address).then((function(t){e.address.id=t.data.id,e.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3}),e.address.level?e.$refs.tree.append(Object.assign({},e.address),a):location.reload()}))}}))},deleteAddress:function(){var e=this;this.address.id?Object(d["b"])({id:this.address.id}).then((function(t){var a=e.$refs.tree.getCurrentNode();e.$refs.tree.remove(a),e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3})})):this.$notify({title:"失败",message:"请选择地址后再点击删除！",type:"error",duration:2e3})},renderNextButton:function(e,t){var a=this,s=t.node,r=t.data;t.store;return e("span",{class:"custom-tree-node"},[e("span",{on:{click:function(){return a.handleNodeClick(r,s)}}},[s.label]),e("span",[e("el-button",{attrs:{size:"mini",type:"text"},style:"margin-left:10px;",on:{click:function(){return a.handleAddNext(r,s)}}},["添加下级"])])])},loadNode:function(e,t){Object(d["c"])({level:e.level+1,parentId:e.key}).then((function(e){t(e.data)}))}}},i=n,l=a("2877"),o=Object(l["a"])(i,s,r,!1,null,null,null);t["default"]=o.exports},e9e6:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return i}));var s=a("b775");function r(e){return Object(s["a"])({url:"/admin/area/ajaxQueryAddressByParent.do",method:"get",params:e})}function d(e){return Object(s["a"])({url:"/admin/area/ajaxAddAddressInfo.do",method:"get",params:e})}function n(e){return Object(s["a"])({url:"/admin/area/ajaxUpdateAddressInfo.do",method:"get",params:e})}function i(e){return Object(s["a"])({url:"/admin/area/ajaxDeleteAddressInfo.do",method:"get",params:e})}}}]);